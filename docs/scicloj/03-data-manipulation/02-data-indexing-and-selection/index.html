<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/sandstone/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/solarized-light.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-grid.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-theme-balham.min.css" rel="stylesheet" type="text/css">
        <link href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" rel="stylesheet" type="text/css">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
        <!-- The loading of KaTeX is deferred to speed up page rendering -->
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    </head>
    <body>
        <p id="loading">Loading ...</p>
        <div id="app"></div>
    </body>
    <script id="state" type="text">"{:options {:reverse-notes? false, :header? false, :notes-in-cards? false, :initially-collapse? false, :auto-scroll? false, :port 1903, :custom-header [:div {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} \"(notespace)\" [:p \"Fri Jul 16 14:42:51 IDT 2021\"] nil [:hr]], :custom-footer [:div [:hr] [:hr]]}, :ids [\"306\" \"307\" \"308\" \"309\" \"310\" \"311\" \"312\" \"313\" \"314\" \"315\" \"316\" \"317\" \"318\" \"319\" \"320\" \"321\" \"322\" \"323\" \"324\" \"325\" \"326\" \"327\" \"328\" \"329\" \"330\" \"331\" \"332\" \"333\" \"334\" \"335\" \"336\" \"337\" \"338\" \"339\" \"340\" \"341\" \"342\" \"343\" \"344\" \"345\" \"346\" \"347\" \"348\" \"349\" \"350\" \"351\" \"352\"], :id->content {\"334\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select-rows states 0)\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"138px\"}} [:p/markdown \"_unnamed [1 4]:\\n\\n|      :name |  :area | :population | :density |\\n|------------|-------:|------------:|---------:|\\n| California | 423967 |    38332521 |       90 |\\n\"]]], \"321\" [:div [:p] [:div [:p/code {:code \"(:area states)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"#tech.v3.dataset.column<int64>[5]\\n:area\\n[423967, 695662, 141297, 170312, 149995]\\n\"}]], \"343\" [:div [:p] nil nil [:p/markdown \"To build up your fluency in Pandas data manipulation, I suggest spending some\\ntime with a simple DataFrame and exploring the types of indexing, slicing,\\nmasking, and fancy indexing that are allowed by these various indexing\\napproaches.\"]], \"315\" [:div [:p] [:div [:p/code {:code \"(def population [38332521 26448193 19651127 19552860 12882135])\", :bg-class \"bg-light\"}]] nil nil], \"346\" [:div [:p] nil nil [:p/markdown \"select rows with seq of row ids and seq of true/false:\"]], \"336\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(states :area)\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"46px\"}} [:p/markdown \"423967\\n695662\\n141297\\n170312\\n149995\"]]], \"329\" [:div [:p] nil nil [:p/markdown \"This shows a preview of the straightforward syntax of element-by-element\\narithmetic between Column objects; we'll dig into this further in Operating on\\nData in Dataset.\"]], \"328\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\nstates\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"322px\"}} [:p/markdown \"_unnamed [5 4]:\\n\\n|      :name |  :area | :population | :density |\\n|------------|-------:|------------:|---------:|\\n| California | 423967 |    38332521 |       90 |\\n|      Texas | 695662 |    26448193 |       38 |\\n|   New York | 141297 |    19651127 |      139 |\\n|    Florida | 170312 |    19552860 |      114 |\\n|   Illinois | 149995 |    12882135 |       85 |\\n\"]]], \"332\" [:div [:p] nil nil [:p/markdown \"With this picture in mind, many familiar array-like observations can be done\\non the DataFrame itself. For example, we can transpose the full DataFrame to\\nswap rows and columns:\"]], \"345\" [:div [:p] nil nil [:p/markdown \"There are a couple extra indexing conventions that might seem at odds with the\\npreceding discussion, but nevertheless can be very useful in practice. First,\\nwhile indexing refers to columns, slicing refers to rows:\"]], \"318\" [:div [:p] nil nil [:p/markdown \"The individual Column that make up the DataFrame can be accessed via map-style\\nindexing of the column name:\"]], \"338\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select states [:name :area :population] (range 3))\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"230px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n|      :name |  :area | :population |\\n|------------|-------:|------------:|\\n| California | 423967 |    38332521 |\\n|      Texas | 695662 |    26448193 |\\n|   New York | 141297 |    19651127 |\\n\"]]], \"326\" [:div [:p] [:div [:p/code {:code \"(require '[tech.v3.datatype.functional :as dfn])\", :bg-class \"bg-light\"}]] nil nil], \"350\" [:div [:p] nil nil [:p/markdown \"Similarly, direct masking operations are also interpreted row-wise rather than\\ncolumn-wise:\"]], \"311\" [:div [:p] nil nil [:p/markdown \"The first analogy we will consider is the Dataset as a map of related Column\\nobjects. Let's return to our example of areas and populations of states:\"]], \"341\" [:div [:p] nil nil [:p/markdown \"Any of these indexing conventions may also be used to set or modify values;\\nthis is done in the standard way that you might be accustomed to from working\\nwith NumPy:\"]], \"307\" [:div [:p] nil nil [:p/markdown \"In Chapter 2, we looked in detail at methods and tools to access, set, and\\nmodify values in clojure vec and map. These included indexing (e.g., `(avec 2)`\\n`(amap :akey)` and `(:akey amap)` ) Here we'll look at similar means of\\naccessing and modifying values in Dataset objects. If you have used the clojure\\npatterns, the corresponding patterns in dataset will feel very familiar, though\\nthere are a few quirks to be aware of.\"]], \"312\" [:div [:p] [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth])\", :bg-class \"bg-light\"}]] nil nil], \"337\" [:div [:p] nil nil [:p/markdown \"Thus for array-style indexing, we need another convention. Here Pandas again\\nuses the loc, iloc, and ix indexers mentioned earlier. Using the iloc indexer,\\nwe can index the underlying array as if it is a simple NumPy array (using the\\nimplicit Python-style index), but the DataFrame index and column labels are\\nmaintained in the result:\"]], \"347\" [:div [:p] nil nil [:p/markdown \"Such slices can also refer to rows by number rather than by index:\"]], \"335\" [:div [:p] nil nil [:p/markdown \"and passing a single \\\"index\\\" to a Dataset accesses a column:\"]], \"331\" [:div [:p] nil nil [:p/markdown \"As mentioned previously, we can also view the Dataset as an enhanced\\ntwo-dimensional array. We can examine the raw underlying data array using the\\nvalues attribute:\"]], \"352\" [:div [:p] nil nil [:p/markdown \"These two conventions are syntactically similar to those on a NumPy array, and\\nwhile these may not precisely fit the mold of the Pandas conventions, they are\\nnevertheless quite useful in practice.\"]], \"308\" [:div [:p] nil nil [:p/markdown \"# Data Selection in Dataset\"]], \"313\" [:div [:p] [:div [:p/code {:code \"(def names [\\\"California\\\" \\\"Texas\\\" \\\"New York\\\" \\\"Florida\\\" \\\"Illinois\\\"])\", :bg-class \"bg-light\"}]] nil nil], \"320\" [:div [:p] nil nil [:p/markdown \"Equivalently, we can use keyword-style access with column names that are\\nkeywords:\"]], \"325\" [:div [:p] nil nil [:p/markdown \"Like with the Series objects discussed earlier, this dictionary-style syntax\\ncan also be used to modify the object, in this case adding a new column:\"]], \"306\" [:div [:p] nil nil nil], \"316\" [:div [:p] [:div [:p/code {:code \"(def states (tablecloth/dataset {:name names\\n                                 :area area\\n                                 :population population}))\", :bg-class \"bg-light\"}]] nil nil], \"344\" [:div [:p] nil nil [:p/markdown \"## Additional indexing conventions\"]], \"324\" [:div [:p] nil nil [:p/markdown \"Though this is a useful shorthand, keep in mind that it does not work for all\\ncases! For example, if the column names are not keywords, this keyword-style\\naccess is not possible.\"]], \"317\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\nstates\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"322px\"}} [:p/markdown \"_unnamed [5 3]:\\n\\n|      :name |  :area | :population |\\n|------------|-------:|------------:|\\n| California | 423967 |    38332521 |\\n|      Texas | 695662 |    26448193 |\\n|   New York | 141297 |    19651127 |\\n|    Florida | 170312 |    19552860 |\\n|   Illinois | 149995 |    12882135 |\\n\"]]], \"340\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select states [:name :population :density] #(> (:density %) 100))\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"184px\"}} [:p/markdown \"_unnamed [2 3]:\\n\\n|    :name | :population | :density |\\n|----------|------------:|---------:|\\n| New York |    19651127 |      139 |\\n|  Florida |    19552860 |      114 |\\n\"]]], \"342\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/update-columns states [:density] (fn [x] 90))\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"322px\"}} [:p/markdown \"_unnamed [5 4]:\\n\\n|      :name |  :area | :population | :density |\\n|------------|-------:|------------:|---------:|\\n| California | 423967 |    38332521 |       90 |\\n|      Texas | 695662 |    26448193 |       90 |\\n|   New York | 141297 |    19651127 |       90 |\\n|    Florida | 170312 |    19552860 |       90 |\\n|   Illinois | 149995 |    12882135 |       90 |\\n\"]]], \"319\" [:div [:p] [:div [:p/code {:code \"(states :area)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"#tech.v3.dataset.column<int64>[5]\\n:area\\n[423967, 695662, 141297, 170312, 149995]\\n\"}]], \"322\" [:div [:p] nil nil [:p/markdown \"This keyword-style column access actually accesses the exact same object as\\nthe map-style access:\"]], \"348\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select-rows states [0 1 2])\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"230px\"}} [:p/markdown \"_unnamed [3 4]:\\n\\n|      :name |  :area | :population | :density |\\n|------------|-------:|------------:|---------:|\\n| California | 423967 |    38332521 |       90 |\\n|      Texas | 695662 |    26448193 |       38 |\\n|   New York | 141297 |    19651127 |      139 |\\n\"]]], \"339\" [:div [:p] nil nil [:p/markdown \"Any of the familiar NumPy-style data access patterns can be used within these\\nindexers. For example, in the loc indexer we can combine masking and fancy\\nindexing as in the following:\"]], \"310\" [:div [:p] nil nil [:p/markdown \"## DataFrame as a map\"]], \"327\" [:div [:p] [:div [:p/code {:code \"(def states (assoc states :density (dfn// (states :population) (states :area))))\", :bg-class \"bg-light\"}]] nil nil], \"333\" [:div [:p] nil nil [:p/markdown \"When it comes to indexing of Dataset objects, however, it is clear that the\\nmap-style indexing of columns precludes our ability to simply treat it as a\\nNumPy array. In particular, passing a single index to an array accesses a row:\"]], \"330\" [:div [:p] nil nil [:p/markdown \"## Dataset as two-dimensional array\"]], \"349\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select-rows states [true false true])\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"184px\"}} [:p/markdown \"_unnamed [2 4]:\\n\\n|      :name |  :area | :population | :density |\\n|------------|-------:|------------:|---------:|\\n| California | 423967 |    38332521 |       90 |\\n|   New York | 141297 |    19651127 |      139 |\\n\"]]], \"323\" [:div [:p] [:div [:p/code {:code \"(identical? (:area states) (states :area))\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"true\\n\"}]], \"351\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select-rows states #(> (:density %) 100))\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"184px\"}} [:p/markdown \"_unnamed [2 4]:\\n\\n|    :name |  :area | :population | :density |\\n|----------|-------:|------------:|---------:|\\n| New York | 141297 |    19651127 |      139 |\\n|  Florida | 170312 |    19552860 |      114 |\\n\"]]], \"309\" [:div [:p] nil nil [:p/markdown \"Recall that a Dataset acts in many ways like a map of columns. These analogies\\ncan be helpful to keep in mind as we explore data selection within this\\nstructure.\"]], \"314\" [:div [:p] [:div [:p/code {:code \"(def area [423967 695662 141297 170312 149995])\", :bg-class \"bg-light\"}]] nil nil]}}"</script>
    <script src="gorilla-notes/js/compiled/main.js"></script>
</html>
