<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/sandstone/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/solarized-light.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-grid.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-theme-balham.min.css" rel="stylesheet" type="text/css">
        <link href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" rel="stylesheet" type="text/css">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
        <!-- The loading of KaTeX is deferred to speed up page rendering -->
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    </head>
    <body>
        <p id="loading">Loading ...</p>
        <div id="app"></div>
    </body>
    <script id="state" type="text">"{:options {:reverse-notes? false, :header? false, :notes-in-cards? false, :initially-collapse? false, :auto-scroll? false, :port 1903, :custom-header [:div {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} \"(notespace)\" [:p \"Fri Jul 16 14:44:14 IDT 2021\"] nil [:hr]], :custom-footer [:div [:hr] [:hr]]}, :ids [\"492\" \"531\" \"532\" \"495\" \"496\" \"533\" \"498\" \"499\" \"534\" \"535\" \"502\" \"536\" \"504\" \"505\" \"537\" \"507\" \"508\" \"509\" \"510\" \"511\" \"538\" \"513\" \"514\" \"515\" \"539\" \"517\" \"518\" \"519\" \"520\" \"540\" \"522\" \"523\" \"524\" \"525\" \"526\" \"541\" \"542\" \"529\"], :id->content {\"499\" [:div [:p] nil nil [:p/markdown \"In addition, we'll create a quick class that allows us to display multiple\\nDataFrames side by side. The code makes use of the special _repr_html_ method,\\nwhich IPython uses to implement its rich object display:\"]], \"498\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(make-ds \\\"ABC\\\" (range 3))\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"230px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n|  A |  B |  C |\\n|----|----|----|\\n| A0 | B0 | C0 |\\n| A1 | B1 | C1 |\\n| A2 | B2 | C2 |\\n\"]]], \"508\" [:div [:p] [:div [:p/code {:code \"(def ds1 (make-ds \\\"AB\\\" [1 2]))\", :bg-class \"bg-light\"}]] nil nil], \"522\" [:div [:p] nil nil [:p/markdown \"### Concatenation with joins\"]], \"520\" [:div [:p] nil nil [:p/markdown \"### Duplicate indices\"]], \"504\" [:div [:p] nil nil [:p/markdown \"## Simple Concatenation with tablecloth dataset\"]], \"532\" [:div [:p] nil nil [:p/markdown \"Some of the most interesting studies of data come from combining different data\\nsources. These operations can involve anything from very straightforward\\nconcatenation of two different datasets, to more complicated database-style\\njoins and merges that correctly handle any overlaps between the datasets. Series\\nand DataFrames are built with this type of operation in mind, and Pandas\\nincludes functions and methods that make this sort of data wrangling fast and\\nstraightforward.\\n\\nHere we'll take a look at simple concatenation of Series and DataFrames with the\\npd.concat function; later we'll dive into more sophisticated in-memory merges\\nand joins implemented in Pandas.\\n\\nWe begin with the standard imports:\"]], \"525\" [:div [:p] [:div [:p/code {:code \"(def ds6 (make-ds \\\"BCD\\\" [3 4]))\", :bg-class \"bg-light\"}]] nil nil], \"492\" [:div [:p] nil nil nil], \"536\" [:div [:p] nil nil [:p/markdown \"The first argument is a list or tuple of arrays to concatenate. Additionally,\\nit takes an axis keyword that allows you to specify the axis along which the\\nresult will be concatenated:\"]], \"531\" [:div [:p] nil nil [:p/markdown \"# Combining Datasets: Concat and Append\"]], \"511\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\nds2\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"184px\"}} [:p/markdown \"_unnamed [2 2]:\\n\\n|  A |  B |\\n|----|----|\\n| A3 | B3 |\\n| A4 | B4 |\\n\"]]], \"496\" [:div [:p] nil nil [:p/markdown \"For convenience, we'll define this function which creates a DataFrame of a\\nparticular form that will be useful below:\"]], \"542\" [:div [:p] nil nil [:p/markdown \"Another option is to directly specify the index of the remaininig colums using\\nthe join_axes argument, which takes a list of index objects. Here we'll specify\\nthat the returned columns should be the same as those of the first input:\\n\\n```\\ndisplay('df5', 'df6',\\n        \\\"pd.concat([df5, df6], join_axes=[df5.columns])\\\")\\n```\"]], \"534\" [:div [:p] nil nil [:p/markdown \"The use of this will become clearer as we continue our discussion in the\\nfollowing section.\"]], \"540\" [:div [:p] nil nil [:p/markdown \"TODO: skip row index secsion, as dataset do not support row index\"]], \"524\" [:div [:p] [:div [:p/code {:code \"(def ds5 (make-ds \\\"ABC\\\" [1 2]))\", :bg-class \"bg-light\"}]] nil nil], \"537\" [:div [:p] nil nil [:p/markdown \"pd.concat() can be used for a simple concatenation of Series or DataFrame\\nobjects, just as np.concatenate() can be used for simple concatenations of\\narrays:\"]], \"518\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/append ds3 ds4)\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"184px\"}} [:p/markdown \"_unnamed [2 4]:\\n\\n|  A |  B |  C |  D |\\n|----|----|----|----|\\n| A0 | B0 | C0 | D0 |\\n| A1 | B1 | C1 | D1 |\\n\"]]], \"507\" [:div [:p] nil nil [:p/markdown \"It also works to concatenate higher-dimensional objects, such as DataFrames:\"]], \"502\" [:div [:p] nil nil [:p/markdown \"Concatenation of Series and DataFrame objects is very similar to concatenation\\nof Numpy arrays, which can be done via the np.concatenate function as discussed\\nin The Basics of NumPy Arrays. Recall that with it, you can combine the contents\\nof two or more arrays into a single array:\"]], \"510\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\nds1\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"184px\"}} [:p/markdown \"_unnamed [2 2]:\\n\\n|  A |  B |\\n|----|----|\\n| A1 | B1 |\\n| A2 | B2 |\\n\"]]], \"538\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/concat ds1 ds2)\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"276px\"}} [:p/markdown \"null [4 2]:\\n\\n|  A |  B |\\n|----|----|\\n| A1 | B1 |\\n| A2 | B2 |\\n| A3 | B3 |\\n| A4 | B4 |\\n\"]]], \"541\" [:div [:p] [:div [:p/code {:code \"(tablecloth/inner-join ds5 ds6 [\\\"B\\\" \\\"C\\\"])\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"inner-join [0 6]:\\n\\n| A | B | C | right.B | right.C | D |\\n|---|---|---|---------|---------|---|\\n\\n\"}]], \"519\" [:div [:p] nil nil [:p/markdown \"We could have equivalently specified axis=1; here we've used the more\\nintuitive axis='col'.\"]], \"505\" [:div [:p] nil nil [:p/markdown \"Pandas has a function, pd.concat(), which has a similar syntax to\\nnp.concatenate but contains a number of options that we'll discuss\\nmomentarily:\"]], \"535\" [:div [:p] nil nil [:p/markdown \"## Recall: Concatenation of NumPy Arrays\"]], \"509\" [:div [:p] [:div [:p/code {:code \"(def ds2 (make-ds \\\"AB\\\" [3 4]))\", :bg-class \"bg-light\"}]] nil nil], \"526\" [:div [:p] nil nil [:p/markdown \"By default, the entries for which no data is available are filled with NA\\nvalues. To change this, we can specify one of several options for the join and\\njoin_axes parameters of the concatenate function. By default, the join is a\\nunion of the input columns (join='outer'), but we can change this to an\\nintersection of the columns using join='inner':\"]], \"533\" [:div [:p] [:div [:p/code {:code \"(defn make-ds\\n  \\\"Quickly make a dataset\\\"\\n  [cols rows]\\n  (let [data (into {}\\n                   (for [c cols]\\n                     {(str c) (map #(str c %) rows)}))]\\n    (tablecloth/dataset data)))\", :bg-class \"bg-light\"}]] nil nil], \"529\" [:div [:p] nil nil [:p/markdown \"The combination of options of the pd.concat function allows a wide range of\\npossible behaviors when joining two datasets; keep these in mind as you use\\nthese tools for your own data.\"]], \"495\" [:div [:p] [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth])\", :bg-class \"bg-light\"}]] nil nil], \"517\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\nds4\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"184px\"}} [:p/markdown \"_unnamed [2 2]:\\n\\n|  C |  D |\\n|----|----|\\n| C0 | D0 |\\n| C1 | D1 |\\n\"]]], \"539\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\nds3\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"184px\"}} [:p/markdown \"_unnamed [2 2]:\\n\\n|  A |  B |\\n|----|----|\\n| A0 | B0 |\\n| A1 | B1 |\\n\"]]], \"514\" [:div [:p] [:div [:p/code {:code \"(def ds3 (make-ds \\\"AB\\\" [0 1]))\", :bg-class \"bg-light\"}]] nil nil], \"515\" [:div [:p] [:div [:p/code {:code \"(def ds4 (make-ds \\\"CD\\\" [0 1]))\", :bg-class \"bg-light\"}]] nil nil], \"513\" [:div [:p] nil nil [:p/markdown \"By default, the concatenation takes place row-wise within the DataFrame (i.e.,\\naxis=0). Like np.concatenate, pd.concat allows specification of an axis along\\nwhich concatenation will take place. Consider the following example:\"]], \"523\" [:div [:p] nil nil [:p/markdown \"In the simple examples we just looked at, we were mainly concatenating\\nDataFrames with shared column names. In practice, data from different sources\\nmight have different sets of column names, and pd.concat offers several options\\nin this case. Consider the concatenation of the following two DataFrames, which\\nhave some (but not all!) columns in common:\"]]}}"</script>
    <script src="gorilla-notes/js/compiled/main.js"></script>
</html>
