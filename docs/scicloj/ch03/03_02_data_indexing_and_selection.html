<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/sandstone/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/solarized-light.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-grid.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-theme-balham.min.css" rel="stylesheet" type="text/css">
        <link href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <p id="loading">Loading ...</p>
        <div id="app"></div>
    </body>
    <script src="https://cdn.jsdelivr.net/gh/scicloj/gorilla-notes@master/dist/0.5.0-SNAPSHOT-5/main.js"></script>
    <script>
     shadow.loader.load("main");
     gorilla_notes.main.main_BANG_(false, "{:options {:reverse-notes? false, :header? false, :notes-in-cards? false, :custom-header [:div {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} \"(notespace)\" [:p \"Tue Dec 15 08:40:54 CST 2020\"] nil nil [:hr]], :custom-footer [:div [:hr]]}, :ids [\"7375\" \"7376\" \"7298\" \"7299\" \"7377\" \"7378\" \"7379\" \"7380\" \"7381\" \"7382\" \"7306\" \"7307\" \"7308\" \"7383\" \"7343\" \"7384\" \"7385\" \"7386\" \"7347\" \"7348\" \"7387\" \"7388\" \"7351\" \"7352\" \"7389\" \"7390\" \"7391\" \"7392\" \"7393\" \"7394\" \"7395\" \"7396\" \"7397\" \"7398\" \"7399\" \"7400\" \"7401\" \"7366\" \"7402\" \"7403\" \"7369\" \"7404\" \"7405\" \"7406\" \"7407\" \"7408\"], :id->content {\"7356\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select-rows states 0)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7345\" [:div nil [:div [:p/markdown \"This keyword-style column access actually accesses the exact same object as\\nthe map-style access:\"]]], \"7296\" [:div nil [:div nil]], \"7352\" [:div nil [:div [:p/markdown \"## Dataset as two-dimensional array\"]]], \"7400\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/update-columns states [:density] (fn [x] 90))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 4]:\\n\\n|       :name |  :area |     :pop | :density |\\n|-------------|--------|----------|----------|\\n| :California | 423967 | 38332521 |       90 |\\n|      :Texas | 695662 | 26448193 |       90 |\\n|   :New-York | 141297 | 19651127 |       90 |\\n|    :Florida | 170312 | 19552860 |       90 |\\n|   :Illinois | 149995 | 12882135 |       90 |\\n\"]]]], \"7387\" [:div [:p/code {:code \"(require '[tech.v3.datatype.functional :as dfn])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"7369\" [:div nil [:div [:p/markdown \"Such slices can also refer to rows by number rather than by index:\"]]], \"7385\" [:div nil [:div [:p/markdown \"This keyword-style column access actually accesses the exact same object as\\nthe map-style access:\"]]], \"7330\" [:div nil [:div [:p/markdown \"Any of these indexing conventions may also be used to set or modify values;\\nthis is done in the standard way that you might be accustomed to from working\\nwith NumPy:\"]]], \"7365\" [:div nil [:div [:p/markdown \"To build up your fluency in Pandas data manipulation, I suggest spending some\\ntime with a simple DataFrame and exploring the types of indexing, slicing,\\nmasking, and fancy indexing that are allowed by these various indexing\\napproaches.\"]]], \"7323\" [:div [:p/code {:code \"(tablecloth/select-rows states 0)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [1 4]:\\n\\r\\n|       :name |  :area |     :pop | :density |\\r\\n|-------------|--------|----------|----------|\\r\\n| :California | 423967 | 38332521 |       90 |\\r\\n\\r\\n\"}]]], \"7256\" [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth])\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7310\" [:div nil [:div [:p/markdown \"Equivalently, we can use keyword-style access with column names that are\\nkeywords:\"]]], \"7325\" [:div [:p/code {:code \"(states :area)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"#tech.v3.dataset.column<int64>[5]\\n:area\\r\\n[423967, 695662, 141297, 170312, 149995, ]\\r\\n\"}]]], \"7304\" [:div [:p/code {:code \"(def state-area [423967 695662 141297 170312 149995])\", :bg-class \"bg-light\"}] [:div nil]], \"7375\" [:div nil [:div nil]], \"7377\" [:div nil [:div [:p/markdown \"## DataFrame as a map\"]]], \"7353\" [:div nil [:div [:p/markdown \"As mentioned previously, we can also view the Dataset as an enhanced\\ntwo-dimensional array. We can examine the raw underlying data array using the\\nvalues attribute:\"]]], \"7291\" [:div [:p/code {:code \"(tablecloth/select-rows states [0 1 2])\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7292\" [:div [:p/code {:code \"(tablecloth/select-rows states [true false true])\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7268\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7338\" [:div [:p/code {:code \"(tablecloth/select-rows states [true false true])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 4]:\\n\\r\\n|       :name |  :area |     :pop | :density |\\r\\n|-------------|--------|----------|----------|\\r\\n| :California | 423967 | 38332521 |       90 |\\r\\n|   :New-York | 141297 | 19651127 |      139 |\\r\\n\\r\\n\"}]]], \"7318\" [:div nil [:div [:p/markdown \"This shows a preview of the straightforward syntax of element-by-element\\narithmetic between Column objects; we'll dig into this further in Operating on\\nData in Dataset.\"]]], \"7260\" [:div [:p/code {:code \"(def states (tablecloth/dataset {:name state-name\\n                                 :area state-area\\n                                 :pop state-population}))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7259\" [:div [:p/code {:code \"(def state-population [38332521 26448193 19651127 19552860 12882135])\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7295\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7362\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select states [:name :pop :density] #(> (:density %) 100))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7287\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7348\" [:div nil [:div [:p/markdown \"Like with the Series objects discussed earlier, this dictionary-style syntax\\ncan also be used to modify the object, in this case adding a new column:\"]]], \"7328\" [:div nil [:div [:p/markdown \"Any of the familiar NumPy-style data access patterns can be used within these\\nindexers. For example, in the loc indexer we can combine masking and fancy\\nindexing as in the following:\"]]], \"7337\" [:div [:p/code {:code \"(tablecloth/select-rows states [0 1 2])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [3 4]:\\n\\r\\n|       :name |  :area |     :pop | :density |\\r\\n|-------------|--------|----------|----------|\\r\\n| :California | 423967 | 38332521 |       90 |\\r\\n|      :Texas | 695662 | 26448193 |       38 |\\r\\n|   :New-York | 141297 | 19651127 |      139 |\\r\\n\\r\\n\"}]]], \"7333\" [:div nil [:div [:p/markdown \"## Additional indexing conventions\"]]], \"7363\" [:div nil [:div [:p/markdown \"Any of these indexing conventions may also be used to set or modify values;\\nthis is done in the standard way that you might be accustomed to from working\\nwith NumPy:\"]]], \"7358\" [:div [:p/code {:code \"^kind/dataset\\n(states :area)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7307\" [:div [:p/code {:code \"^kind/dataset\\nstates\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 3]:\\n\\n|       :name |  :area |     :pop |\\n|-------------|--------|----------|\\n| :California | 423967 | 38332521 |\\n|      :Texas | 695662 | 26448193 |\\n|   :New-York | 141297 | 19651127 |\\n|    :Florida | 170312 | 19552860 |\\n|   :Illinois | 149995 | 12882135 |\\n\"]]]], \"7396\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select states [:name :area :pop] (range 3))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n|       :name |  :area |     :pop |\\n|-------------|--------|----------|\\n| :California | 423967 | 38332521 |\\n|      :Texas | 695662 | 26448193 |\\n|   :New-York | 141297 | 19651127 |\\n\"]]]], \"7359\" [:div nil [:div [:p/markdown \"Thus for array-style indexing, we need another convention. Here Pandas again\\nuses the loc, iloc, and ix indexers mentioned earlier. Using the iloc indexer,\\nwe can index the underlying array as if it is a simple NumPy array (using the\\nimplicit Python-style index), but the DataFrame index and column labels are\\nmaintained in the result:\"]]], \"7378\" [:div nil [:div [:p/markdown \"The first analogy we will consider is the Dataset as a map of related Column\\nobjects. Let's return to our example of areas and populations of states:\"]]], \"7299\" [:div nil [:div [:p/markdown \"Recall that a Dataset acts in many ways like a map of columns. These analogies\\ncan be helpful to keep in mind as we explore data selection within this\\nstructure.\"]]], \"7253\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7254\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7289\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7319\" [:div nil [:div [:p/markdown \"## Dataset as two-dimensional array\"]]], \"7339\" [:div nil [:div [:p/markdown \"Similarly, direct masking operations are also interpreted row-wise rather than\\ncolumn-wise:\"]]], \"7361\" [:div nil [:div [:p/markdown \"Any of the familiar NumPy-style data access patterns can be used within these\\nindexers. For example, in the loc indexer we can combine masking and fancy\\nindexing as in the following:\"]]], \"7389\" [:div nil [:div [:p/markdown \"As mentioned previously, we can also view the Dataset as an enhanced\\ntwo-dimensional array. We can examine the raw underlying data array using the\\nvalues attribute:\"]]], \"7266\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7309\" [:div [:p/code {:code \"(states :area)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"#tech.v3.dataset.column<int64>[5]\\n:area\\r\\n[423967, 695662, 141297, 170312, 149995, ]\\r\\n\"}]]], \"7251\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7379\" [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"7278\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7381\" [:div [:p/code {:code \"(def state-area [423967 695662 141297 170312 149995])\", :bg-class \"bg-light\"}] [:div nil]], \"7336\" [:div nil [:div [:p/markdown \"Such slices can also refer to rows by number rather than by index:\"]]], \"7384\" [:div [:p/code {:code \"^kind/dataset\\n(:area states)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"423967\\n695662\\n141297\\n170312\\n149995\"]]]], \"7303\" [:div [:p/code {:code \"(def state-name [:California :Texas :New-York :Florida :Illinois])\", :bg-class \"bg-light\"}] [:div nil]], \"7272\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7255\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7395\" [:div nil [:div [:p/markdown \"Thus for array-style indexing, we need another convention. Here Pandas again\\nuses the loc, iloc, and ix indexers mentioned earlier. Using the iloc indexer,\\nwe can index the underlying array as if it is a simple NumPy array (using the\\nimplicit Python-style index), but the DataFrame index and column labels are\\nmaintained in the result:\"]]], \"7368\" [:div nil [:div [:p/markdown \"select rows with seq of row ids and seq of true/false:\"]]], \"7391\" [:div nil [:div [:p/markdown \"When it comes to indexing of Dataset objects, however, it is clear that the\\nmap-style indexing of columns precludes our ability to simply treat it as a\\nNumPy array. In particular, passing a single index to an array accesses a row:\"]]], \"7271\" [:div [:p/code {:code \"(def states (assoc states :density (dfn// (states :pop) (states :area))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7306\" [:div [:p/code {:code \"(def states (tablecloth/dataset {:name state-name\\n                                 :area state-area\\n                                 :pop state-population}))\", :bg-class \"bg-light\"}] [:div nil]], \"7367\" [:div nil [:div [:p/markdown \"There are a couple extra indexing conventions that might seem at odds with the\\npreceding discussion, but nevertheless can be very useful in practice. First,\\nwhile indexing refers to columns, slicing refers to rows:\"]]], \"7273\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7383\" [:div [:p/code {:code \"^kind/dataset\\n(states :area)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"423967\\n695662\\n141297\\n170312\\n149995\"]]]], \"7350\" [:div [:p/code {:code \"(def states (assoc states :density (dfn// (states :pop) (states :area))))\", :bg-class \"bg-light\"}] [:div nil]], \"7370\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select-rows states [0 1 2])\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7270\" [:div [:p/code {:code \"(require '[tech.v3.datatype.functional :as dfn])\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7297\" [:div nil [:div [:p/markdown \"In Chapter 2, we looked in detail at methods and tools to access, set, and\\nmodify values in clojure vec and map. These included indexing (e.g., `(avec 2)`\\n`(amap :akey)` and `(:akey amap)` ) Here we'll look at similar means of\\naccessing and modifying values in Dataset objects. If you have used the clojure\\npatterns, the corresponding patterns in dataset will feel very familiar, though\\nthere are a few quirks to be aware of.\"]]], \"7340\" [:div [:p/code {:code \"(tablecloth/select-rows states #(> (:density %) 100))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 4]:\\n\\r\\n|     :name |  :area |     :pop | :density |\\r\\n|-----------|--------|----------|----------|\\r\\n| :New-York | 141297 | 19651127 |      139 |\\r\\n|  :Florida | 170312 | 19552860 |      114 |\\r\\n\\r\\n\"}]]], \"7393\" [:div nil [:div [:p/markdown \"and passing a single \\\"index\\\" to a Dataset accesses a column:\"]]], \"7401\" [:div nil [:div [:p/markdown \"To build up your fluency in Pandas data manipulation, I suggest spending some\\ntime with a simple DataFrame and exploring the types of indexing, slicing,\\nmasking, and fancy indexing that are allowed by these various indexing\\napproaches.\"]]], \"7331\" [:div [:p/code {:code \"(tablecloth/update-columns states [:density] (fn [x] 90))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [5 4]:\\n\\r\\n|       :name |  :area |     :pop | :density |\\r\\n|-------------|--------|----------|----------|\\r\\n| :California | 423967 | 38332521 |       90 |\\r\\n|      :Texas | 695662 | 26448193 |       90 |\\r\\n|   :New-York | 141297 | 19651127 |       90 |\\r\\n|    :Florida | 170312 | 19552860 |       90 |\\r\\n|   :Illinois | 149995 | 12882135 |       90 |\\r\\n\\r\\n\"}]]], \"7354\" [:div nil [:div [:p/markdown \"With this picture in mind, many familiar array-like observations can be done\\non the DataFrame itself. For example, we can transpose the full DataFrame to\\nswap rows and columns:\"]]], \"7284\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7372\" [:div nil [:div [:p/markdown \"Similarly, direct masking operations are also interpreted row-wise rather than\\ncolumn-wise:\"]]], \"7398\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select states [:name :pop :density] #(> (:density %) 100))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [2 3]:\\n\\n|     :name |     :pop | :density |\\n|-----------|----------|----------|\\n| :New-York | 19651127 |      139 |\\n|  :Florida | 19552860 |      114 |\\n\"]]]], \"7351\" [:div nil [:div [:p/markdown \"This shows a preview of the straightforward syntax of element-by-element\\narithmetic between Column objects; we'll dig into this further in Operating on\\nData in Dataset.\"]]], \"7399\" [:div nil [:div [:p/markdown \"Any of these indexing conventions may also be used to set or modify values;\\nthis is done in the standard way that you might be accustomed to from working\\nwith NumPy:\"]]], \"7326\" [:div nil [:div [:p/markdown \"Thus for array-style indexing, we need another convention. Here Pandas again\\nuses the loc, iloc, and ix indexers mentioned earlier. Using the iloc indexer,\\nwe can index the underlying array as if it is a simple NumPy array (using the\\nimplicit Python-style index), but the DataFrame index and column labels are\\nmaintained in the result:\"]]], \"7349\" [:div [:p/code {:code \"(require '[tech.v3.datatype.functional :as dfn])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"7408\" [:div nil [:div [:p/markdown \"These two conventions are syntactically similar to those on a NumPy array, and\\nwhile these may not precisely fit the mold of the Pandas conventions, they are\\nnevertheless quite useful in practice.\"]]], \"7302\" [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"7308\" [:div nil [:div [:p/markdown \"The individual Column that make up the DataFrame can be accessed via map-style\\nindexing of the column name:\"]]], \"7397\" [:div nil [:div [:p/markdown \"Any of the familiar NumPy-style data access patterns can be used within these\\nindexers. For example, in the loc indexer we can combine masking and fancy\\nindexing as in the following:\"]]], \"7263\" [:div [:p/code {:code \"(states :area)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7286\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7250\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7342\" [:div [:p/code {:code \"^kind/dataset\\n(states :area)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7332\" [:div nil [:div [:p/markdown \"To build up your fluency in Pandas data manipulation, I suggest spending some\\ntime with a simple DataFrame and exploring the types of indexing, slicing,\\nmasking, and fancy indexing that are allowed by these various indexing\\napproaches.\"]]], \"7364\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/update-columns states [:density] (fn [x] 90))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7316\" [:div [:p/code {:code \"(require '[tech.v3.datatype.functional :as dfn])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"7322\" [:div nil [:div [:p/markdown \"When it comes to indexing of Dataset objects, however, it is clear that the\\nmap-style indexing of columns precludes our ability to simply treat it as a\\nNumPy array. In particular, passing a single index to an array accesses a row:\"]]], \"7344\" [:div [:p/code {:code \"^kind/dataset\\n(:area states)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7406\" [:div nil [:div [:p/markdown \"Similarly, direct masking operations are also interpreted row-wise rather than\\ncolumn-wise:\"]]], \"7285\" [:div [:p/code {:code \"(tablecloth/update-columns states [:density] (fn [x] 90))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7269\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7392\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select-rows states 0)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [1 4]:\\n\\n|       :name |  :area |     :pop | :density |\\n|-------------|--------|----------|----------|\\n| :California | 423967 | 38332521 |       90 |\\n\"]]]], \"7346\" [:div [:p/code {:code \"(identical? (:area states) (states :area))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"true\\r\\n\"}]]], \"7315\" [:div nil [:div [:p/markdown \"Like with the Series objects discussed earlier, this dictionary-style syntax\\ncan also be used to modify the object, in this case adding a new column:\"]]], \"7280\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7374\" [:div nil [:div [:p/markdown \"These two conventions are syntactically similar to those on a NumPy array, and\\nwhile these may not precisely fit the mold of the Pandas conventions, they are\\nnevertheless quite useful in practice.\"]]], \"7355\" [:div nil [:div [:p/markdown \"When it comes to indexing of Dataset objects, however, it is clear that the\\nmap-style indexing of columns precludes our ability to simply treat it as a\\nNumPy array. In particular, passing a single index to an array accesses a row:\"]]], \"7258\" [:div [:p/code {:code \"(def state-area [423967 695662 141297 170312 149995])\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7334\" [:div nil [:div [:p/markdown \"There are a couple extra indexing conventions that might seem at odds with the\\npreceding discussion, but nevertheless can be very useful in practice. First,\\nwhile indexing refers to columns, slicing refers to rows:\"]]], \"7390\" [:div nil [:div [:p/markdown \"With this picture in mind, many familiar array-like observations can be done\\non the DataFrame itself. For example, we can transpose the full DataFrame to\\nswap rows and columns:\"]]], \"7371\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select-rows states [true false true])\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7277\" [:div [:p/code {:code \"(tablecloth/select-rows states 0)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7335\" [:div nil [:div [:p/markdown \"select rows with seq of row ids and seq of true/false:\"]]], \"7382\" [:div [:p/code {:code \"(def state-population [38332521 26448193 19651127 19552860 12882135])\", :bg-class \"bg-light\"}] [:div nil]], \"7264\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7380\" [:div [:p/code {:code \"(def state-name [:California :Texas :New-York :Florida :Illinois])\", :bg-class \"bg-light\"}] [:div nil]], \"7279\" [:div [:p/code {:code \"(states :area)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7341\" [:div nil [:div [:p/markdown \"These two conventions are syntactically similar to those on a NumPy array, and\\nwhile these may not precisely fit the mold of the Pandas conventions, they are\\nnevertheless quite useful in practice.\"]]], \"7403\" [:div nil [:div [:p/markdown \"select rows with seq of row ids and seq of true/false:\"]]], \"7404\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select-rows states [0 1 2])\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 4]:\\n\\n|       :name |  :area |     :pop | :density |\\n|-------------|--------|----------|----------|\\n| :California | 423967 | 38332521 |       90 |\\n|      :Texas | 695662 | 26448193 |       38 |\\n|   :New-York | 141297 | 19651127 |      139 |\\n\"]]]], \"7257\" [:div [:p/code {:code \"(def state-name [:California :Texas :New-York :Florida :Illinois])\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7290\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7314\" [:div nil [:div [:p/markdown \"Though this is a useful shorthand, keep in mind that it does not work for all\\ncases! For example, if the column names are not keywords, this keyword-style\\naccess is not possible.\"]]], \"7313\" [:div [:p/code {:code \"(identical? (:area states) (states :area))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"true\\r\\n\"}]]], \"7265\" [:div [:p/code {:code \"(:area states)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7293\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7347\" [:div nil [:div [:p/markdown \"Though this is a useful shorthand, keep in mind that it does not work for all\\ncases! For example, if the column names are not keywords, this keyword-style\\naccess is not possible.\"]]], \"7343\" [:div nil [:div [:p/markdown \"Equivalently, we can use keyword-style access with column names that are\\nkeywords:\"]]], \"7252\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7360\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select states [:name :area :pop] (range 3))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7262\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7294\" [:div [:p/code {:code \"(tablecloth/select-rows states #(> (:density %) 100))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7386\" [:div [:p/code {:code \"(identical? (:area states) (states :area))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"true\\r\\n\"}]]], \"7324\" [:div nil [:div [:p/markdown \"and passing a single \\\"index\\\" to a Dataset accesses a column:\"]]], \"7288\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7327\" [:div [:p/code {:code \"(tablecloth/select states [:name :area :pop] (range 3))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [3 3]:\\n\\r\\n|       :name |  :area |     :pop |\\r\\n|-------------|--------|----------|\\r\\n| :California | 423967 | 38332521 |\\r\\n|      :Texas | 695662 | 26448193 |\\r\\n|   :New-York | 141297 | 19651127 |\\r\\n\\r\\n\"}]]], \"7321\" [:div nil [:div [:p/markdown \"With this picture in mind, many familiar array-like observations can be done\\non the DataFrame itself. For example, we can transpose the full DataFrame to\\nswap rows and columns:\"]]], \"7402\" [:div nil [:div [:p/markdown \"There are a couple extra indexing conventions that might seem at odds with the\\npreceding discussion, but nevertheless can be very useful in practice. First,\\nwhile indexing refers to columns, slicing refers to rows:\"]]], \"7317\" [:div [:p/code {:code \"(def states (assoc states :density (dfn// (states :pop) (states :area))))\", :bg-class \"bg-light\"}] [:div nil]], \"7405\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select-rows states [true false true])\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [2 4]:\\n\\n|       :name |  :area |     :pop | :density |\\n|-------------|--------|----------|----------|\\n| :California | 423967 | 38332521 |       90 |\\n|   :New-York | 141297 | 19651127 |      139 |\\n\"]]]], \"7311\" [:div [:p/code {:code \"(:area states)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"#tech.v3.dataset.column<int64>[5]\\n:area\\r\\n[423967, 695662, 141297, 170312, 149995, ]\\r\\n\"}]]], \"7301\" [:div nil [:div [:p/markdown \"The first analogy we will consider is the Dataset as a map of related Column\\nobjects. Let's return to our example of areas and populations of states:\"]]], \"7407\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select-rows states #(> (:density %) 100))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [2 4]:\\n\\n|     :name |  :area |     :pop | :density |\\n|-----------|--------|----------|----------|\\n| :New-York | 141297 | 19651127 |      139 |\\n|  :Florida | 170312 | 19552860 |      114 |\\n\"]]]], \"7305\" [:div [:p/code {:code \"(def state-population [38332521 26448193 19651127 19552860 12882135])\", :bg-class \"bg-light\"}] [:div nil]], \"7298\" [:div nil [:div [:p/markdown \"# Data Selection in Dataset\"]]], \"7366\" [:div nil [:div [:p/markdown \"## Additional indexing conventions\"]]], \"7283\" [:div [:p/code {:code \"(tablecloth/select states [:name :pop :density] #(> (:density %) 100))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7275\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7300\" [:div nil [:div [:p/markdown \"## DataFrame as a map\"]]], \"7276\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7282\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7312\" [:div nil [:div [:p/markdown \"This keyword-style column access actually accesses the exact same object as\\nthe map-style access:\"]]], \"7274\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7388\" [:div [:p/code {:code \"(def states (assoc states :density (dfn// (states :pop) (states :area))))\", :bg-class \"bg-light\"}] [:div nil]], \"7267\" [:div [:p/code {:code \"(identical? (:area states) (states :area))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7261\" [:div [:p/code {:code \"^kind/dataset\\nstates\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7376\" [:div nil [:div [:p/markdown \"In Chapter 2, we looked in detail at methods and tools to access, set, and\\nmodify values in clojure vec and map. These included indexing (e.g., `(avec 2)`\\n`(amap :akey)` and `(:akey amap)` ) Here we'll look at similar means of\\naccessing and modifying values in Dataset objects. If you have used the clojure\\npatterns, the corresponding patterns in dataset will feel very familiar, though\\nthere are a few quirks to be aware of.\"]]], \"7320\" [:div nil [:div [:p/markdown \"As mentioned previously, we can also view the Dataset as an enhanced\\ntwo-dimensional array. We can examine the raw underlying data array using the\\nvalues attribute:\"]]], \"7394\" [:div [:p/code {:code \"^kind/dataset\\n(states :area)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"423967\\n695662\\n141297\\n170312\\n149995\"]]]], \"7373\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/select-rows states #(> (:density %) 100))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7281\" [:div [:p/code {:code \"(tablecloth/select states [:name :area :pop] (range 3))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"7357\" [:div nil [:div [:p/markdown \"and passing a single \\\"index\\\" to a Dataset accesses a column:\"]]], \"7329\" [:div [:p/code {:code \"(tablecloth/select states [:name :pop :density] #(> (:density %) 100))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 3]:\\n\\r\\n|     :name |     :pop | :density |\\r\\n|-----------|----------|----------|\\r\\n| :New-York | 19651127 |      139 |\\r\\n|  :Florida | 19552860 |      114 |\\r\\n\\r\\n\"}]]]}}");
     document.getElementById("loading").remove();
    </script>
</html>
