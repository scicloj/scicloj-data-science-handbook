<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/sandstone/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/solarized-light.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-grid.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-theme-balham.min.css" rel="stylesheet" type="text/css">
        <link href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <p id="loading">Loading ...</p>
        <div id="app"></div>
    </body>
    <script src="https://cdn.jsdelivr.net/gh/scicloj/gorilla-notes@master/dist/0.5.0-SNAPSHOT-5/main.js"></script>
    <script>
     shadow.loader.load("main");
     gorilla_notes.main.main_BANG_(false, "{:options {:reverse-notes? false, :header? false, :notes-in-cards? false, :custom-header [:div {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} \"(notespace)\" [:p \"Tue Dec 15 15:50:55 CST 2020\"] nil nil [:hr]], :custom-footer [:div [:hr]]}, :ids [\"556\" \"557\" \"558\" \"559\" \"560\" \"561\" \"562\" \"563\" \"564\" \"565\" \"566\" \"567\" \"568\" \"569\" \"570\" \"571\" \"572\" \"573\" \"574\" \"575\" \"435\" \"479\" \"576\" \"577\" \"578\" \"579\" \"580\" \"581\" \"582\" \"583\" \"584\" \"585\" \"586\" \"587\" \"588\" \"589\" \"590\" \"591\" \"592\" \"451\" \"593\" \"594\" \"595\" \"596\" \"597\" \"598\" \"599\" \"600\" \"601\" \"602\" \"603\" \"604\" \"605\" \"606\" \"607\"], :id->content {\"273\" [:div nil [:div [:p/markdown \"It is different from Pandas dataframe that missing value is just ignored in\\ntech.ml.dataset:\"]]], \"281\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"279\" [:div [:p/code {:code \"(def data (tablecloth/dataset {:A [1 \\\"hello\\\" nil]}))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"388\" [:div [:p/code {:code \"^kind/dataset\\nvals1\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [4 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|    |\\n|  3 |\\n|  4 |\\n\"]]]], \"445\" [:div [:p/code {:code \"^kind/dataset\\nDS1\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 4]:\\n\\n| :A | :B | :C | :D |\\n|----|----|----|----|\\n|  1 |    |  2 |    |\\n|  2 |  3 |  5 |    |\\n|    |  4 |  6 |    |\\n\"]]]], \"499\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"219\" [:div nil [:div [:p/markdown \"# Handling Missing Data\"]]], \"392\" [:div nil [:div [:p/markdown \"tech.ml.dataset data structures have two useful methods for detecting null data:\\n`missing`. Either one will return a Boolean mask over the data. For example:\"]]], \"275\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"334\" [:div [:p/code {:code \"^kind/dataset\\nDS1\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 4]:\\n\\n| :A | :B | :C | :D |\\n|----|----|----|----|\\n|  1 |    |  2 |    |\\n|  2 |  3 |  5 |    |\\n|    |  4 |  6 |    |\\n\"]]]], \"365\" [:div [:p/code {:code \"(tablecloth/drop-missing DS :A)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  1 |    |  2 |\\r\\n|  2 |  3 |  5 |\\r\\n\\r\\n\"}]]], \"581\" [:div [:p/code {:code \"(tablecloth/drop-missing DS)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [1 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  2 |  3 |  5 |\\r\\n\\r\\n\"}]]], \"258\" [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth]\\n         '[tech.v3.dataset :as ds]\\n         '[tech.v3.datatype.functional :as dfn])\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"528\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"253\" [:div nil [:div [:p/markdown \"### None: Clojure missing data\"]]], \"582\" [:div nil [:div [:p/markdown \"Alternatively, you can drop NA values along a different axis; axis=1 drops all\\ncolumns containing a null value:\"]]], \"458\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"429\" [:div [:p/code {:code \"(dfn/sum (vals1 :A))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"8.0\\r\\n\"}]]], \"370\" [:div [:p/code {:code \"(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [3 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  1 |    |  2 |\\r\\n|  2 |  3 |  5 |\\r\\n|    |  4 |  6 |\\r\\n\\r\\n\"}]]], \"303\" [:div nil [:div [:p/markdown \"The difference between data found in many tutorials and data in the real world\\nis that real-world data is rarely clean and homogeneous. In particular, many\\ninteresting datasets will have some amount of data missing. To make matters even\\nmore complicated, different data sources may indicate missing data in different\\nways.\\n\\nIn this section, we will discuss some general considerations for missing data,\\ndiscuss how Pandas chooses to represent it, and demonstrate some built-in Pandas\\ntools for handling missing data in Python. Here and throughout the book, we'll\\nrefer to missing data in general as null, NaN, or NA values.\"]]], \"381\" [:div [:p/code {:code \"(def DS2 (tablecloth/dataset {:A [1 nil 2 nil 3]}))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"277\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"422\" [:div nil [:div [:p/markdown \"The way in which Pandas handles missing values is constrained by its reliance\\non the NumPy package, which does not have a built-in notion of NA values for\\nnon-floating-point data types.\\n\\nPandas could have followed R's lead in specifying bit patterns for each\\nindividual data type to indicate nullness, but this approach turns out to be\\nrather unwieldy. While R contains four basic data types, NumPy supports far more\\nthan this: for example, while R has a single integer type, NumPy supports\\nfourteen basic integer types once you account for available precisions,\\nsignedness, and endianness of the encoding. Reserving a specific bit pattern in\\nall available NumPy types would lead to an unwieldy amount of overhead in\\nspecial-casing various operations for various types, likely even requiring a new\\nfork of the NumPy package. Further, for the smaller data types (such as 8-bit\\nintegers), sacrificing a bit to use as a mask will significantly reduce the\\nrange of values it can represent.\\n\\nNumPy does have support for masked arrays – that is, arrays that have a separate\\nBoolean mask array attached for marking data as \\\"good\\\" or \\\"bad\\\". Pandas\\ncould have derived from this, but the overhead in both storage, computation, and\\ncode maintenance makes that an unattractive choice.\\n\\nWith these constraints in mind, Pandas chose to use sentinels for missing data,\\nand further chose to use two already-existing Python null values: the special\\nfloating-point NaN value, and the Python None object. This choice has some side\\neffects, as we will see, but in practice ends up being a good compromise in most\\ncases of interest.\"]]], \"432\" [:div nil [:div [:p/markdown \"tech.ml.dataset data structures have two useful methods for detecting null data:\\n`missing`. Either one will return a Boolean mask over the data. For example:\"]]], \"438\" [:div [:p/code {:code \"^kind/dataset\\nDS\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"402\" [:div [:p/code {:code \"(require '[tech.v3.dataset.column-filters :as cf]\\n         '[tech.v3.dataset.column :as ds-col])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"450\" [:div nil [:div [:p/markdown \"Here the first and last row have been dropped, because they contain only two\\nnon-null values.\"]]], \"545\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :lerp)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"466\" [:div nil [:div [:p/markdown \"The way in which Pandas handles missing values is constrained by its reliance\\non the NumPy package, which does not have a built-in notion of NA values for\\nnon-floating-point data types.\\n\\nPandas could have followed R's lead in specifying bit patterns for each\\nindividual data type to indicate nullness, but this approach turns out to be\\nrather unwieldy. While R contains four basic data types, NumPy supports far more\\nthan this: for example, while R has a single integer type, NumPy supports\\nfourteen basic integer types once you account for available precisions,\\nsignedness, and endianness of the encoding. Reserving a specific bit pattern in\\nall available NumPy types would lead to an unwieldy amount of overhead in\\nspecial-casing various operations for various types, likely even requiring a new\\nfork of the NumPy package. Further, for the smaller data types (such as 8-bit\\nintegers), sacrificing a bit to use as a mask will significantly reduce the\\nrange of values it can represent.\\n\\nNumPy does have support for masked arrays – that is, arrays that have a separate\\nBoolean mask array attached for marking data as \\\"good\\\" or \\\"bad\\\". Pandas\\ncould have derived from this, but the overhead in both storage, computation, and\\ncode maintenance makes that an unattractive choice.\\n\\nWith these constraints in mind, Pandas chose to use sentinels for missing data,\\nand further chose to use two already-existing Python null values: the special\\nfloating-point NaN value, and the Python None object. This choice has some side\\neffects, as we will see, but in practice ends up being a good compromise in most\\ncases of interest.\"]]], \"382\" [:div [:p/code {:code \"^kind/dataset\\nDS2\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"452\" [:div nil [:div [:p/markdown \"Sometimes rather than dropping NA values, you'd rather replace them with a\\nvalid value. This value might be a single number like zero, or it might be some\\nsort of imputation or interpolation from the good values. You could do this\\nin-place using the isnull() method as a mask, but because it is such a common\\noperation tech.ml.dataset provides the `replace-missing` function, which returns\\na copy of the array with the null values replaced.\"]]], \"572\" [:div nil [:div [:p/markdown \"### Detecting null values\"]]], \"498\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"321\" [:div nil [:div [:p/markdown \"### Dropping null values\"]]], \"488\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"549\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :mid)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"359\" [:div [:p/code {:code \"(tablecloth/drop-missing data)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 1]:\\n\\r\\n|    :A |\\r\\n|-------|\\r\\n|     1 |\\r\\n| hello |\\r\\n\\r\\n\"}]]], \"380\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"343\" [:div [:p/code {:code \"(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"467\" [:div nil [:div [:p/markdown \"### None: Clojure missing data\"]]], \"419\" [:div nil [:div [:p/markdown \"The difference between data found in many tutorials and data in the real world\\nis that real-world data is rarely clean and homogeneous. In particular, many\\ninteresting datasets will have some amount of data missing. To make matters even\\nmore complicated, different data sources may indicate missing data in different\\nways.\\n\\nIn this section, we will discuss some general considerations for missing data,\\ndiscuss how Pandas chooses to represent it, and demonstrate some built-in Pandas\\ntools for handling missing data in Python. Here and throughout the book, we'll\\nrefer to missing data in general as null, NaN, or NA values.\"]]], \"567\" [:div [:p/code {:code \"^kind/dataset\\nvals1\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [4 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|    |\\n|  3 |\\n|  4 |\\n\"]]]], \"439\" [:div nil [:div [:p/markdown \"We cannot drop single values from a DataFrame; we can only drop full rows or\\nfull columns. Depending on the application, you might want one or the other, so\\ndropna() gives a number of options for a DataFrame.\\n\\nBy default, dropna() will drop all rows in which any null value is present:\"]]], \"265\" [:div nil [:div [:p/markdown \"The difference between data found in many tutorials and data in the real world\\nis that real-world data is rarely clean and homogeneous. In particular, many\\ninteresting datasets will have some amount of data missing. To make matters even\\nmore complicated, different data sources may indicate missing data in different\\nways.\\n\\nIn this section, we will discuss some general considerations for missing data,\\ndiscuss how Pandas chooses to represent it, and demonstrate some built-in Pandas\\ntools for handling missing data in Python. Here and throughout the book, we'll\\nrefer to missing data in general as null, NaN, or NA values.\"]]], \"227\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"569\" [:div nil [:div [:p/markdown \"It is different from Pandas dataframe that missing value is just ignored in\\ntech.ml.dataset:\"]]], \"415\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"384\" [:div nil [:div [:p/markdown \"## Trade-Offs in Missing Data Conventions\"]]], \"430\" [:div nil [:div [:p/markdown \"## Operating on Missing Values\"]]], \"584\" [:div nil [:div [:p/markdown \"But this drops some good data as well; you might rather be interested in\\ndropping rows or columns with all NA values, or a majority of NA values. This\\ncan be specified through the how or thresh parameters, which allow fine control\\nof the number of nulls to allow through.\\n\\nThe default is how='any', such that any row or column (depending on the axis\\nkeyword) containing a null value will be dropped. You can also specify\\nhow='all', which will only drop rows/columns that are all null values:\"]]], \"263\" [:div [:p/code {:code \"(dfn/sum (vals1 :A))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"413\" [:div [:p/code {:code \"^kind/dataset\\nDS2\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|    |\\n|  2 |\\n|    |\\n|  3 |\\n\"]]]], \"530\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"266\" [:div nil [:div [:p/markdown \"## Trade-Offs in Missing Data Conventions\"]]], \"408\" [:div nil [:div [:p/markdown \"Here the first and last row have been dropped, because they contain only two\\nnon-null values.\"]]], \"600\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :down)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"305\" [:div nil [:div [:p/markdown \"There are a number of schemes that have been developed to indicate the\\npresence of missing data in a table or DataFrame. Generally, they revolve around\\none of two strategies: using a mask that globally indicates missing values, or\\nchoosing a sentinel value that indicates a missing entry.\\n\\nIn the masking approach, the mask might be an entirely separate Boolean array,\\nor it may involve appropriation of one bit in the data representation to locally\\nindicate the null status of a value.\\n\\nIn the sentinel approach, the sentinel value could be some data-specific\\nconvention, such as indicating a missing integer value with -9999 or some rare\\nbit pattern, or it could be a more global convention, such as indicating a\\nmissing floating-point value with NaN (Not a Number), a special value which is\\npart of the IEEE floating-point specification.\\n\\nNone of these approaches is without trade-offs: use of a separate mask array\\nrequires allocation of an additional Boolean array, which adds overhead in both\\nstorage and computation. A sentinel value reduces the range of valid values that\\ncan be represented, and may require extra (often non-optimized) logic in CPU and\\nGPU arithmetic. Common special values like NaN are not available for all data\\ntypes.\\n\\nAs in most cases where no universally optimal choice exists, different languages\\nand systems use different conventions. For example, the R language uses reserved\\nbit patterns within each data type as sentinel values indicating missing data,\\nwhile the SciDB system uses an extra byte attached to every cell which indicates\\na NA state.\"]]], \"411\" [:div nil [:div [:p/markdown \"Consider the following dataset:\"]]], \"552\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"508\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"300\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"604\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :mid)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"290\" [:div [:p/code {:code \"(tablecloth/drop-missing DS :A)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"368\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"522\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :up)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"471\" [:div [:p/code {:code \"^kind/dataset\\nvals1\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [4 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|    |\\n|  3 |\\n|  4 |\\n\"]]]], \"527\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :up)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"364\" [:div [:p/code {:code \"(tablecloth/drop-missing DS)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [1 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  2 |  3 |  5 |\\r\\n\\r\\n\"}]]], \"404\" [:div [:p/code {:code \"^kind/dataset\\nDS1\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 4]:\\n\\n| :A | :B | :C | :D |\\n|----|----|----|----|\\n|  1 |    |  2 |    |\\n|  2 |  3 |  5 |    |\\n|    |  4 |  6 |    |\\n\"]]]], \"315\" [:div [:p/code {:code \"(dfn/sum (vals1 :A))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"8.0\\r\\n\"}]]], \"304\" [:div nil [:div [:p/markdown \"## Trade-Offs in Missing Data Conventions\"]]], \"234\" [:div nil [:div [:p/markdown \"## Trade-Offs in Missing Data Conventions\"]]], \"475\" [:div nil [:div [:p/markdown \"### Detecting null values\"]]], \"391\" [:div [:p/code {:code \"(dfn/sum (vals1 :A))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"8.0\\r\\n\"}]]], \"479\" [:div nil [:div [:p/markdown \"In addition to the masking used before, there are the convenience methods,\\n`drop-missing` (which removes NA values) and `replace-missing` (which fills in\\nNA values). For a Series, the result is straightforward:\"]]], \"423\" [:div nil [:div [:p/markdown \"### None: Clojure missing data\"]]], \"520\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"295\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"469\" [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth]\\n         '[tech.v3.dataset :as ds]\\n         '[tech.v3.datatype.functional :as dfn])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"454\" [:div [:p/code {:code \"(def DS2 (tablecloth/dataset {:A [1 nil 2 nil 3]}))\", :bg-class \"bg-light\"}] [:div nil]], \"224\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"504\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :value 0)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  0 |\\n|  2 |\\n|  0 |\\n|  3 |\\n\"]]]], \"369\" [:div nil [:div [:p/markdown \"For finer-grained control, the thresh parameter lets you specify a minimum\\nnumber of non-null values for the row/column to be kept:\"]]], \"346\" [:div nil [:div [:p/markdown \"### Filling null values\"]]], \"282\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"237\" [:div nil [:div [:p/markdown \"The way in which Pandas handles missing values is constrained by its reliance\\non the NumPy package, which does not have a built-in notion of NA values for\\nnon-floating-point data types.\\n\\nPandas could have followed R's lead in specifying bit patterns for each\\nindividual data type to indicate nullness, but this approach turns out to be\\nrather unwieldy. While R contains four basic data types, NumPy supports far more\\nthan this: for example, while R has a single integer type, NumPy supports\\nfourteen basic integer types once you account for available precisions,\\nsignedness, and endianness of the encoding. Reserving a specific bit pattern in\\nall available NumPy types would lead to an unwieldy amount of overhead in\\nspecial-casing various operations for various types, likely even requiring a new\\nfork of the NumPy package. Further, for the smaller data types (such as 8-bit\\nintegers), sacrificing a bit to use as a mask will significantly reduce the\\nrange of values it can represent.\\n\\nNumPy does have support for masked arrays – that is, arrays that have a separate\\nBoolean mask array attached for marking data as \\\"good\\\" or \\\"bad\\\". Pandas\\ncould have derived from this, but the overhead in both storage, computation, and\\ncode maintenance makes that an unattractive choice.\\n\\nWith these constraints in mind, Pandas chose to use sentinels for missing data,\\nand further chose to use two already-existing Python null values: the special\\nfloating-point NaN value, and the Python None object. This choice has some side\\neffects, as we will see, but in practice ends up being a good compromise in most\\ncases of interest.\"]]], \"448\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"532\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :lerp)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"396\" [:div [:p/code {:code \"(tablecloth/drop-missing data)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 1]:\\n\\r\\n|    :A |\\r\\n|-------|\\r\\n|     1 |\\r\\n| hello |\\r\\n\\r\\n\"}]]], \"302\" [:div nil [:div [:p/markdown \"# Handling Missing Data\"]]], \"238\" [:div nil [:div [:p/markdown \"### None: Clojure missing data\"]]], \"270\" [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth]\\n         '[tech.v3.dataset :as ds]\\n         '[tech.v3.datatype.functional :as dfn])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"394\" [:div nil [:div [:p/markdown \"### Dropping null values\"]]], \"543\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :mid)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"599\" [:div nil [:div [:p/markdown \"We can specify a down-fill to propagate the previous value down:\"]]], \"414\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"336\" [:div nil [:div [:p/markdown \"For finer-grained control, the thresh parameter lets you specify a minimum\\nnumber of non-null values for the row/column to be kept:\"]]], \"557\" [:div nil [:div [:p/markdown \"# Handling Missing Data\"]]], \"355\" [:div [:p/code {:code \"(dfn/sum (vals1 :A))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"8.0\\r\\n\"}]]], \"462\" [:div nil [:div [:p/markdown \"The difference between data found in many tutorials and data in the real world\\nis that real-world data is rarely clean and homogeneous. In particular, many\\ninteresting datasets will have some amount of data missing. To make matters even\\nmore complicated, different data sources may indicate missing data in different\\nways.\\n\\nIn this section, we will discuss some general considerations for missing data,\\ndiscuss how Pandas chooses to represent it, and demonstrate some built-in Pandas\\ntools for handling missing data in Python. Here and throughout the book, we'll\\nrefer to missing data in general as null, NaN, or NA values.\"]]], \"231\" [:div nil [:div nil]], \"441\" [:div [:p/code {:code \"(tablecloth/drop-missing DS :A)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  1 |    |  2 |\\r\\n|  2 |  3 |  5 |\\r\\n\\r\\n\"}]]], \"395\" [:div nil [:div [:p/markdown \"In addition to the masking used before, there are the convenience methods,\\n`drop-missing` (which removes NA values) and `replace-missing` (which fills in\\nNA values). For a Series, the result is straightforward:\"]]], \"251\" [:div nil [:div [:p/markdown \"## Trade-Offs in Missing Data Conventions\"]]], \"480\" [:div [:p/code {:code \"(tablecloth/drop-missing data)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 1]:\\n\\r\\n|    :A |\\r\\n|-------|\\r\\n|     1 |\\r\\n| hello |\\r\\n\\r\\n\"}]]], \"607\" [:div nil [:div [:p/markdown \"Notice that if a previous value is not available during a down fill, the up\\nvalue are used.\"]]], \"232\" [:div nil [:div [:p/markdown \"# Handling Missing Data\"]]], \"472\" [:div nil [:div [:p/markdown \"It is different from Pandas dataframe that missing value is just ignored in\\ntech.ml.dataset:\"]]], \"274\" [:div [:p/code {:code \"(dfn/sum (vals1 :A))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"8.0\\r\\n\"}]]], \"556\" [:div nil [:div nil]], \"299\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"485\" [:div [:p/code {:code \"(tablecloth/drop-missing DS :A)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  1 |    |  2 |\\r\\n|  2 |  3 |  5 |\\r\\n\\r\\n\"}]]], \"389\" [:div [:p/code {:code \"(ds/brief vals1)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"({:min 1.0,\\r\\n  :n-missing 1,\\r\\n  :col-name :A,\\r\\n  :mean 2.6666666666666665,\\r\\n  :datatype :int64,\\r\\n  :skew -0.9352195295828236,\\r\\n  :standard-deviation 1.5275252316519465,\\r\\n  :quartile-3 4.0,\\r\\n  :n-valid 3,\\r\\n  :quartile-1 1.0,\\r\\n  :median 3.0,\\r\\n  :max 4.0})\\r\\n\"}]]], \"385\" [:div nil [:div [:p/markdown \"There are a number of schemes that have been developed to indicate the\\npresence of missing data in a table or DataFrame. Generally, they revolve around\\none of two strategies: using a mask that globally indicates missing values, or\\nchoosing a sentinel value that indicates a missing entry.\\n\\nIn the masking approach, the mask might be an entirely separate Boolean array,\\nor it may involve appropriation of one bit in the data representation to locally\\nindicate the null status of a value.\\n\\nIn the sentinel approach, the sentinel value could be some data-specific\\nconvention, such as indicating a missing integer value with -9999 or some rare\\nbit pattern, or it could be a more global convention, such as indicating a\\nmissing floating-point value with NaN (Not a Number), a special value which is\\npart of the IEEE floating-point specification.\\n\\nNone of these approaches is without trade-offs: use of a separate mask array\\nrequires allocation of an additional Boolean array, which adds overhead in both\\nstorage and computation. A sentinel value reduces the range of valid values that\\ncan be represented, and may require extra (often non-optimized) logic in CPU and\\nGPU arithmetic. Common special values like NaN are not available for all data\\ntypes.\\n\\nAs in most cases where no universally optimal choice exists, different languages\\nand systems use different conventions. For example, the R language uses reserved\\nbit patterns within each data type as sentinel values indicating missing data,\\nwhile the SciDB system uses an extra byte attached to every cell which indicates\\na NA state.\"]]], \"547\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :mid)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"525\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :up)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"588\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"561\" [:div nil [:div [:p/markdown \"## Missing Data in Dataset\"]]], \"587\" [:div [:p/code {:code \"^kind/dataset\\nDS1\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 4]:\\n\\n| :A | :B | :C | :D |\\n|----|----|----|----|\\n|  1 |    |  2 |    |\\n|  2 |  3 |  5 |    |\\n|    |  4 |  6 |    |\\n\"]]]], \"426\" [:div [:p/code {:code \"^kind/dataset\\nvals1\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [4 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|    |\\n|  3 |\\n|  4 |\\n\"]]]], \"492\" [:div nil [:div [:p/markdown \"Consider the following dataset:\"]]], \"443\" [:div [:p/code {:code \"(require '[tech.v3.dataset.column-filters :as cf]\\n         '[tech.v3.dataset.column :as ds-col])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"329\" [:div nil [:div [:p/markdown \"Alternatively, you can drop NA values along a different axis; axis=1 drops all\\ncolumns containing a null value:\"]]], \"387\" [:div nil [:div [:p/markdown \"### None: Clojure missing data\"]]], \"585\" [:div [:p/code {:code \"(require '[tech.v3.dataset.column-filters :as cf]\\n         '[tech.v3.dataset.column :as ds-col])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"603\" [:div nil [:div [:p/markdown \"Or we can specify a mid-fill to calculate the missing value:\"]]], \"221\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"442\" [:div nil [:div [:p/markdown \"But this drops some good data as well; you might rather be interested in\\ndropping rows or columns with all NA values, or a majority of NA values. This\\ncan be specified through the how or thresh parameters, which allow fine control\\nof the number of nulls to allow through.\\n\\nThe default is how='any', such that any row or column (depending on the axis\\nkeyword) containing a null value will be dropped. You can also specify\\nhow='all', which will only drop rows/columns that are all null values:\"]]], \"425\" [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth]\\n         '[tech.v3.dataset :as ds]\\n         '[tech.v3.datatype.functional :as dfn])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"592\" [:div nil [:div [:p/markdown \"Here the first and last row have been dropped, because they contain only two\\nnon-null values.\"]]], \"328\" [:div [:p/code {:code \"(tablecloth/drop-missing DS)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [1 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  2 |  3 |  5 |\\r\\n\\r\\n\"}]]], \"332\" [:div [:p/code {:code \"(require '[tech.v3.dataset.column-filters :as cf]\\n         '[tech.v3.dataset.column :as ds-col])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"490\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-rows DS1 (fn [row]\\n                            (> 3 (count (filter some? (vals row))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [1 4]:\\n\\n| :A | :B | :C | :D |\\n|----|----|----|----|\\n|  2 |  3 |  5 |    |\\n\"]]]], \"358\" [:div nil [:div [:p/markdown \"In addition to the masking used before, there are the convenience methods,\\n`drop-missing` (which removes NA values) and `replace-missing` (which fills in\\nNA values). For a Series, the result is straightforward:\"]]], \"345\" [:div nil [:div [:p/markdown \"Here the first and last row have been dropped, because they contain only two\\nnon-null values.\"]]], \"405\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"318\" [:div nil [:div [:p/markdown \"tech.ml.dataset data structures have two useful methods for detecting null data:\\n`missing`. Either one will return a Boolean mask over the data. For example:\"]]], \"484\" [:div nil [:div [:p/markdown \"Alternatively, you can drop NA values along a different axis; axis=1 drops all\\ncolumns containing a null value:\"]]], \"338\" [:div [:p/code {:code \"(tablecloth/drop-rows DS1 (fn [row]\\n                            (> 3 (count (filter some? (vals row))))))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [1 4]:\\n\\r\\n| :A | :B | :C | :D |\\r\\n|----|----|----|----|\\r\\n|  2 |  3 |  5 |    |\\r\\n\\r\\n\"}]]], \"213\" [:div nil [:div nil]], \"586\" [:div [:p/code {:code \"(def DS1 (tablecloth/add-or-replace-column DS :D nil))\", :bg-class \"bg-light\"}] [:div nil]], \"259\" [:div [:p/code {:code \"(def vals1 (tablecloth/dataset {:A [1 nil 3 4]}))\", :bg-class \"bg-light\"}] [:div nil]], \"476\" [:div nil [:div [:p/markdown \"tech.ml.dataset data structures have two useful methods for detecting null data:\\n`missing`. Either one will return a Boolean mask over the data. For example:\"]]], \"521\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :up)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"598\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :value 0)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  0 |\\n|  2 |\\n|  0 |\\n|  3 |\\n\"]]]], \"437\" [:div [:p/code {:code \"(def DS (tablecloth/dataset {:A [1 2 nil]\\n                             :B [nil 3 4]\\n                             :C [2 5 6]}))\", :bg-class \"bg-light\"}] [:div nil]], \"249\" [:div nil [:div [:p/markdown \"# Handling Missing Data\"]]], \"605\" [:div nil [:div [:p/markdown \"Or we can specify a Linear interpolation fill to calculate the missing value:\"]]], \"268\" [:div nil [:div [:p/markdown \"### None: Clojure missing data\"]]], \"401\" [:div nil [:div [:p/markdown \"But this drops some good data as well; you might rather be interested in\\ndropping rows or columns with all NA values, or a majority of NA values. This\\ncan be specified through the how or thresh parameters, which allow fine control\\nof the number of nulls to allow through.\\n\\nThe default is how='any', such that any row or column (depending on the axis\\nkeyword) containing a null value will be dropped. You can also specify\\nhow='all', which will only drop rows/columns that are all null values:\"]]], \"354\" [:div nil [:div [:p/markdown \"It is different from Pandas dataframe that missing value is just ignored in\\ntech.ml.dataset:\"]]], \"374\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"456\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"503\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :value 0)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  0 |\\n|  2 |\\n|  0 |\\n|  3 |\\n\"]]]], \"493\" [:div [:p/code {:code \"(def DS2 (tablecloth/dataset {:A [1 nil 2 nil 3]}))\", :bg-class \"bg-light\"}] [:div nil]], \"226\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"296\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"362\" [:div [:p/code {:code \"^kind/dataset\\nDS\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"512\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :down)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"449\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-rows DS1 (fn [row]\\n                            (> 3 (count (filter some? (vals row))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [1 4]:\\n\\n| :A | :B | :C | :D |\\n|----|----|----|----|\\n|  2 |  3 |  5 |    |\\n\"]]]], \"228\" [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth])\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"594\" [:div nil [:div [:p/markdown \"Consider the following dataset:\"]]], \"553\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"326\" [:div [:p/code {:code \"^kind/dataset\\nDS\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"244\" [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth]\\n         '[tech.v3.dataset :as ds])\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"297\" [:div [:p/code {:code \"(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"379\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"225\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"350\" [:div nil [:div [:p/markdown \"The way in which Pandas handles missing values is constrained by its reliance\\non the NumPy package, which does not have a built-in notion of NA values for\\nnon-floating-point data types.\\n\\nPandas could have followed R's lead in specifying bit patterns for each\\nindividual data type to indicate nullness, but this approach turns out to be\\nrather unwieldy. While R contains four basic data types, NumPy supports far more\\nthan this: for example, while R has a single integer type, NumPy supports\\nfourteen basic integer types once you account for available precisions,\\nsignedness, and endianness of the encoding. Reserving a specific bit pattern in\\nall available NumPy types would lead to an unwieldy amount of overhead in\\nspecial-casing various operations for various types, likely even requiring a new\\nfork of the NumPy package. Further, for the smaller data types (such as 8-bit\\nintegers), sacrificing a bit to use as a mask will significantly reduce the\\nrange of values it can represent.\\n\\nNumPy does have support for masked arrays – that is, arrays that have a separate\\nBoolean mask array attached for marking data as \\\"good\\\" or \\\"bad\\\". Pandas\\ncould have derived from this, but the overhead in both storage, computation, and\\ncode maintenance makes that an unattractive choice.\\n\\nWith these constraints in mind, Pandas chose to use sentinels for missing data,\\nand further chose to use two already-existing Python null values: the special\\nfloating-point NaN value, and the Python None object. This choice has some side\\neffects, as we will see, but in practice ends up being a good compromise in most\\ncases of interest.\"]]], \"383\" [:div nil [:div nil]], \"294\" [:div [:p/code {:code \"^kind/dataset\\nDS1\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"278\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"573\" [:div nil [:div [:p/markdown \"tech.ml.dataset data structures have two useful methods for detecting null data:\\n`missing`. Either one will return a Boolean mask over the data. For example:\"]]], \"544\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"489\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"311\" [:div [:p/code {:code \"(def vals1 (tablecloth/dataset {:A [1 nil 3 4]}))\", :bg-class \"bg-light\"}] [:div nil]], \"247\" [:div [:p/code {:code \"(ds/brief vals1)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"420\" [:div nil [:div [:p/markdown \"There are a number of schemes that have been developed to indicate the\\npresence of missing data in a table or DataFrame. Generally, they revolve around\\none of two strategies: using a mask that globally indicates missing values, or\\nchoosing a sentinel value that indicates a missing entry.\\n\\nIn the masking approach, the mask might be an entirely separate Boolean array,\\nor it may involve appropriation of one bit in the data representation to locally\\nindicate the null status of a value.\\n\\nIn the sentinel approach, the sentinel value could be some data-specific\\nconvention, such as indicating a missing integer value with -9999 or some rare\\nbit pattern, or it could be a more global convention, such as indicating a\\nmissing floating-point value with NaN (Not a Number), a special value which is\\npart of the IEEE floating-point specification.\\n\\nNone of these approaches is without trade-offs: use of a separate mask array\\nrequires allocation of an additional Boolean array, which adds overhead in both\\nstorage and computation. A sentinel value reduces the range of valid values that\\ncan be represented, and may require extra (often non-optimized) logic in CPU and\\nGPU arithmetic. Common special values like NaN are not available for all data\\ntypes.\\n\\nAs in most cases where no universally optimal choice exists, different languages\\nand systems use different conventions. For example, the R language uses reserved\\nbit patterns within each data type as sentinel values indicating missing data,\\nwhile the SciDB system uses an extra byte attached to every cell which indicates\\na NA state.\"]]], \"562\" [:div nil [:div [:p/markdown \"The way in which Pandas handles missing values is constrained by its reliance\\non the NumPy package, which does not have a built-in notion of NA values for\\nnon-floating-point data types.\\n\\nPandas could have followed R's lead in specifying bit patterns for each\\nindividual data type to indicate nullness, but this approach turns out to be\\nrather unwieldy. While R contains four basic data types, NumPy supports far more\\nthan this: for example, while R has a single integer type, NumPy supports\\nfourteen basic integer types once you account for available precisions,\\nsignedness, and endianness of the encoding. Reserving a specific bit pattern in\\nall available NumPy types would lead to an unwieldy amount of overhead in\\nspecial-casing various operations for various types, likely even requiring a new\\nfork of the NumPy package. Further, for the smaller data types (such as 8-bit\\nintegers), sacrificing a bit to use as a mask will significantly reduce the\\nrange of values it can represent.\\n\\nNumPy does have support for masked arrays – that is, arrays that have a separate\\nBoolean mask array attached for marking data as \\\"good\\\" or \\\"bad\\\". Pandas\\ncould have derived from this, but the overhead in both storage, computation, and\\ncode maintenance makes that an unattractive choice.\\n\\nWith these constraints in mind, Pandas chose to use sentinels for missing data,\\nand further chose to use two already-existing Python null values: the special\\nfloating-point NaN value, and the Python None object. This choice has some side\\neffects, as we will see, but in practice ends up being a good compromise in most\\ncases of interest.\"]]], \"212\" [:div nil [:div nil]], \"356\" [:div nil [:div [:p/markdown \"### Detecting null values\"]]], \"210\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"261\" [:div [:p/code {:code \"(ds/brief vals1)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"({:min 1.0,\\r\\n  :n-missing 1,\\r\\n  :col-name :A,\\r\\n  :mean 2.6666666666666665,\\r\\n  :datatype :int64,\\r\\n  :skew -0.9352195295828236,\\r\\n  :standard-deviation 1.5275252316519465,\\r\\n  :quartile-3 4.0,\\r\\n  :n-valid 3,\\r\\n  :quartile-1 1.0,\\r\\n  :median 3.0,\\r\\n  :max 4.0})\\r\\n\"}]]], \"583\" [:div [:p/code {:code \"(tablecloth/drop-missing DS :A)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  1 |    |  2 |\\r\\n|  2 |  3 |  5 |\\r\\n\\r\\n\"}]]], \"554\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"341\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"357\" [:div [:p/code {:code \"(def data (tablecloth/dataset {:A [1 \\\"hello\\\" nil]}))\", :bg-class \"bg-light\"}] [:div nil]], \"428\" [:div nil [:div [:p/markdown \"It is different from Pandas dataframe that missing value is just ignored in\\ntech.ml.dataset:\"]]], \"284\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"400\" [:div [:p/code {:code \"(tablecloth/drop-missing DS :A)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  1 |    |  2 |\\r\\n|  2 |  3 |  5 |\\r\\n\\r\\n\"}]]], \"363\" [:div nil [:div [:p/markdown \"We cannot drop single values from a DataFrame; we can only drop full rows or\\nfull columns. Depending on the application, you might want one or the other, so\\ndropna() gives a number of options for a DataFrame.\\n\\nBy default, dropna() will drop all rows in which any null value is present:\"]]], \"536\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :lerp)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"497\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"482\" [:div [:p/code {:code \"(def DS (tablecloth/dataset {:A [1 2 nil]\\n                             :B [nil 3 4]\\n                             :C [2 5 6]}))\", :bg-class \"bg-light\"}] [:div nil]], \"531\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"386\" [:div nil [:div [:p/markdown \"## Missing Data in Dataset\"]]], \"246\" [:div [:p/code {:code \"^kind/dataset\\nvals1\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [4 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|    |\\n|  3 |\\n|  4 |\\n\"]]]], \"578\" [:div [:p/code {:code \"(def DS (tablecloth/dataset {:A [1 2 nil]\\n                             :B [nil 3 4]\\n                             :C [2 5 6]}))\", :bg-class \"bg-light\"}] [:div nil]], \"477\" [:div [:p/code {:code \"(def data (tablecloth/dataset {:A [1 \\\"hello\\\" nil]}))\", :bg-class \"bg-light\"}] [:div nil]], \"222\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"459\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :value 0)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"250\" [:div nil [:div [:p/markdown \"The difference between data found in many tutorials and data in the real world\\nis that real-world data is rarely clean and homogeneous. In particular, many\\ninteresting datasets will have some amount of data missing. To make matters even\\nmore complicated, different data sources may indicate missing data in different\\nways.\\n\\nIn this section, we will discuss some general considerations for missing data,\\ndiscuss how Pandas chooses to represent it, and demonstrate some built-in Pandas\\ntools for handling missing data in Python. Here and throughout the book, we'll\\nrefer to missing data in general as null, NaN, or NA values.\"]]], \"289\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"511\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :down)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"483\" [:div [:p/code {:code \"(tablecloth/drop-missing DS)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [1 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  2 |  3 |  5 |\\r\\n\\r\\n\"}]]], \"267\" [:div nil [:div [:p/markdown \"## Missing Data in Dataset\"]]], \"307\" [:div nil [:div [:p/markdown \"The way in which Pandas handles missing values is constrained by its reliance\\non the NumPy package, which does not have a built-in notion of NA values for\\nnon-floating-point data types.\\n\\nPandas could have followed R's lead in specifying bit patterns for each\\nindividual data type to indicate nullness, but this approach turns out to be\\nrather unwieldy. While R contains four basic data types, NumPy supports far more\\nthan this: for example, while R has a single integer type, NumPy supports\\nfourteen basic integer types once you account for available precisions,\\nsignedness, and endianness of the encoding. Reserving a specific bit pattern in\\nall available NumPy types would lead to an unwieldy amount of overhead in\\nspecial-casing various operations for various types, likely even requiring a new\\nfork of the NumPy package. Further, for the smaller data types (such as 8-bit\\nintegers), sacrificing a bit to use as a mask will significantly reduce the\\nrange of values it can represent.\\n\\nNumPy does have support for masked arrays – that is, arrays that have a separate\\nBoolean mask array attached for marking data as \\\"good\\\" or \\\"bad\\\". Pandas\\ncould have derived from this, but the overhead in both storage, computation, and\\ncode maintenance makes that an unattractive choice.\\n\\nWith these constraints in mind, Pandas chose to use sentinels for missing data,\\nand further chose to use two already-existing Python null values: the special\\nfloating-point NaN value, and the Python None object. This choice has some side\\neffects, as we will see, but in practice ends up being a good compromise in most\\ncases of interest.\"]]], \"283\" [:div [:p/code {:code \"(tablecloth/drop-missing data)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"496\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :value 0)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  0 |\\n|  2 |\\n|  0 |\\n|  3 |\\n\"]]]], \"455\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"560\" [:div nil [:div [:p/markdown \"There are a number of schemes that have been developed to indicate the\\npresence of missing data in a table or DataFrame. Generally, they revolve around\\none of two strategies: using a mask that globally indicates missing values, or\\nchoosing a sentinel value that indicates a missing entry.\\n\\nIn the masking approach, the mask might be an entirely separate Boolean array,\\nor it may involve appropriation of one bit in the data representation to locally\\nindicate the null status of a value.\\n\\nIn the sentinel approach, the sentinel value could be some data-specific\\nconvention, such as indicating a missing integer value with -9999 or some rare\\nbit pattern, or it could be a more global convention, such as indicating a\\nmissing floating-point value with NaN (Not a Number), a special value which is\\npart of the IEEE floating-point specification.\\n\\nNone of these approaches is without trade-offs: use of a separate mask array\\nrequires allocation of an additional Boolean array, which adds overhead in both\\nstorage and computation. A sentinel value reduces the range of valid values that\\ncan be represented, and may require extra (often non-optimized) logic in CPU and\\nGPU arithmetic. Common special values like NaN are not available for all data\\ntypes.\\n\\nAs in most cases where no universally optimal choice exists, different languages\\nand systems use different conventions. For example, the R language uses reserved\\nbit patterns within each data type as sentinel values indicating missing data,\\nwhile the SciDB system uses an extra byte attached to every cell which indicates\\na NA state.\"]]], \"564\" [:div nil [:div [:p/markdown \"The first sentinel value used by Pandas is None, a Python singleton object\\nthat is often used for missing data in Python code. Because it is a Python\\nobject, None cannot be used in any arbitrary NumPy/Pandas array, but only in\\narrays with data type 'object' (i.e., arrays of Python objects):\"]]], \"440\" [:div [:p/code {:code \"(tablecloth/drop-missing DS)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [1 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  2 |  3 |  5 |\\r\\n\\r\\n\"}]]], \"312\" [:div [:p/code {:code \"^kind/dataset\\nvals1\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [4 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|    |\\n|  3 |\\n|  4 |\\n\"]]]], \"601\" [:div nil [:div [:p/markdown \"Or we can specify a up-fill to propagate the next values up:\"]]], \"276\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"590\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"597\" [:div nil [:div [:p/markdown \"We can fill NA entries with a single value, such as zero:\"]]], \"337\" [:div [:p/code {:code \"(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [3 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  1 |    |  2 |\\r\\n|  2 |  3 |  5 |\\r\\n|    |  4 |  6 |\\r\\n\\r\\n\"}]]], \"433\" [:div [:p/code {:code \"(def data (tablecloth/dataset {:A [1 \\\"hello\\\" nil]}))\", :bg-class \"bg-light\"}] [:div nil]], \"347\" [:div nil [:div nil]], \"548\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :mid)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"218\" [:div nil [:div nil]], \"591\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-rows DS1 (fn [row]\\n                            (> 3 (count (filter some? (vals row))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [1 4]:\\n\\n| :A | :B | :C | :D |\\n|----|----|----|----|\\n|  2 |  3 |  5 |    |\\n\"]]]], \"542\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"335\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"331\" [:div nil [:div [:p/markdown \"But this drops some good data as well; you might rather be interested in\\ndropping rows or columns with all NA values, or a majority of NA values. This\\ncan be specified through the how or thresh parameters, which allow fine control\\nof the number of nulls to allow through.\\n\\nThe default is how='any', such that any row or column (depending on the axis\\nkeyword) containing a null value will be dropped. You can also specify\\nhow='all', which will only drop rows/columns that are all null values:\"]]], \"352\" [:div [:p/code {:code \"(def vals1 (tablecloth/dataset {:A [1 nil 3 4]}))\", :bg-class \"bg-light\"}] [:div nil]], \"376\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-rows DS1 (fn [row]\\n                            (> 3 (count (filter some? (vals row))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [1 4]:\\n\\n| :A | :B | :C | :D |\\n|----|----|----|----|\\n|  2 |  3 |  5 |    |\\n\"]]]], \"534\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :lerp)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"360\" [:div nil [:div [:p/markdown \"For a DataFrame, there are more options. Consider the following DataFrame:\"]]], \"399\" [:div [:p/code {:code \"(tablecloth/drop-missing DS)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [1 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  2 |  3 |  5 |\\r\\n\\r\\n\"}]]], \"241\" [:div [:p/code {:code \"(def vals1 (tablecloth/dataset {:A [1 nil 3 4]}))\", :bg-class \"bg-light\"}] [:div nil]], \"571\" [:div nil [:div [:p/markdown \"## Operating on Missing Values\"]]], \"293\" [:div [:p/code {:code \"(def DS1 (tablecloth/add-or-replace-column DS :D nil))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"474\" [:div nil [:div [:p/markdown \"## Operating on Missing Values\"]]], \"540\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"524\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :up)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"257\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"209\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"239\" [:div nil [:div [:p/markdown \"The first sentinel value used by Pandas is None, a Python singleton object\\nthat is often used for missing data in Python code. Because it is a Python\\nobject, None cannot be used in any arbitrary NumPy/Pandas array, but only in\\narrays with data type 'object' (i.e., arrays of Python objects):\"]]], \"240\" [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"577\" [:div nil [:div [:p/markdown \"For a DataFrame, there are more options. Consider the following DataFrame:\"]]], \"537\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :lerp)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"606\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :lerp)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"463\" [:div nil [:div [:p/markdown \"## Trade-Offs in Missing Data Conventions\"]]], \"558\" [:div nil [:div [:p/markdown \"The difference between data found in many tutorials and data in the real world\\nis that real-world data is rarely clean and homogeneous. In particular, many\\ninteresting datasets will have some amount of data missing. To make matters even\\nmore complicated, different data sources may indicate missing data in different\\nways.\\n\\nIn this section, we will discuss some general considerations for missing data,\\ndiscuss how Pandas chooses to represent it, and demonstrate some built-in Pandas\\ntools for handling missing data in Python. Here and throughout the book, we'll\\nrefer to missing data in general as null, NaN, or NA values.\"]]], \"580\" [:div nil [:div [:p/markdown \"We cannot drop single values from a DataFrame; we can only drop full rows or\\nfull columns. Depending on the application, you might want one or the other, so\\ndropna() gives a number of options for a DataFrame.\\n\\nBy default, dropna() will drop all rows in which any null value is present:\"]]], \"559\" [:div nil [:div [:p/markdown \"## Trade-Offs in Missing Data Conventions\"]]], \"308\" [:div nil [:div [:p/markdown \"### None: Clojure missing data\"]]], \"271\" [:div [:p/code {:code \"^kind/dataset\\nvals1\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [4 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|    |\\n|  3 |\\n|  4 |\\n\"]]]], \"568\" [:div [:p/code {:code \"(ds/brief vals1)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"({:min 1.0,\\r\\n  :n-missing 1,\\r\\n  :col-name :A,\\r\\n  :mean 2.6666666666666665,\\r\\n  :datatype :int64,\\r\\n  :skew -0.9352195295828236,\\r\\n  :standard-deviation 1.5275252316519465,\\r\\n  :quartile-3 4.0,\\r\\n  :n-valid 3,\\r\\n  :quartile-1 1.0,\\r\\n  :median 3.0,\\r\\n  :max 4.0})\\r\\n\"}]]], \"575\" [:div [:p/code {:code \"(ds/missing data)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"{2}\\r\\n\"}]]], \"518\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"507\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"461\" [:div nil [:div [:p/markdown \"# Handling Missing Data\"]]], \"431\" [:div nil [:div [:p/markdown \"### Detecting null values\"]]], \"313\" [:div [:p/code {:code \"(ds/brief vals1)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"({:min 1.0,\\r\\n  :n-missing 1,\\r\\n  :col-name :A,\\r\\n  :mean 2.6666666666666665,\\r\\n  :datatype :int64,\\r\\n  :skew -0.9352195295828236,\\r\\n  :standard-deviation 1.5275252316519465,\\r\\n  :quartile-3 4.0,\\r\\n  :n-valid 3,\\r\\n  :quartile-1 1.0,\\r\\n  :median 3.0,\\r\\n  :max 4.0})\\r\\n\"}]]], \"481\" [:div nil [:div [:p/markdown \"For a DataFrame, there are more options. Consider the following DataFrame:\"]]], \"470\" [:div [:p/code {:code \"(def vals1 (tablecloth/dataset {:A [1 nil 3 4]}))\", :bg-class \"bg-light\"}] [:div nil]], \"223\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"502\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :value 0)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  0 |\\n|  2 |\\n|  0 |\\n|  3 |\\n\"]]]], \"272\" [:div [:p/code {:code \"(ds/brief vals1)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"({:min 1.0,\\r\\n  :n-missing 1,\\r\\n  :col-name :A,\\r\\n  :mean 2.6666666666666665,\\r\\n  :datatype :int64,\\r\\n  :skew -0.9352195295828236,\\r\\n  :standard-deviation 1.5275252316519465,\\r\\n  :quartile-3 4.0,\\r\\n  :n-valid 3,\\r\\n  :quartile-1 1.0,\\r\\n  :median 3.0,\\r\\n  :max 4.0})\\r\\n\"}]]], \"576\" [:div [:p/code {:code \"(tablecloth/drop-missing data)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 1]:\\n\\r\\n|    :A |\\r\\n|-------|\\r\\n|     1 |\\r\\n| hello |\\r\\n\\r\\n\"}]]], \"546\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :mid)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"510\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :down)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"538\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :lerp)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"570\" [:div [:p/code {:code \"(dfn/sum (vals1 :A))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"8.0\\r\\n\"}]]], \"541\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"320\" [:div [:p/code {:code \"(ds/missing data)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"{2}\\r\\n\"}]]], \"325\" [:div [:p/code {:code \"(def DS (tablecloth/dataset {:A [1 2 nil]\\n                             :B [nil 3 4]\\n                             :C [2 5 6]}))\", :bg-class \"bg-light\"}] [:div nil]], \"306\" [:div nil [:div [:p/markdown \"## Missing Data in Dataset\"]]], \"287\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"229\" [:div [:p/code {:code \"(def vals1 (tablecloth/dataset {:A [1 nil 3 4]}))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"486\" [:div nil [:div [:p/markdown \"But this drops some good data as well; you might rather be interested in\\ndropping rows or columns with all NA values, or a majority of NA values. This\\ncan be specified through the how or thresh parameters, which allow fine control\\nof the number of nulls to allow through.\\n\\nThe default is how='any', such that any row or column (depending on the axis\\nkeyword) containing a null value will be dropped. You can also specify\\nhow='all', which will only drop rows/columns that are all null values:\"]]], \"596\" [:div [:p/code {:code \"^kind/dataset\\nDS2\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|    |\\n|  2 |\\n|    |\\n|  3 |\\n\"]]]], \"316\" [:div nil [:div [:p/markdown \"## Operating on Missing Values\"]]], \"421\" [:div nil [:div [:p/markdown \"## Missing Data in Dataset\"]]], \"235\" [:div nil [:div [:p/markdown \"There are a number of schemes that have been developed to indicate the\\npresence of missing data in a table or DataFrame. Generally, they revolve around\\none of two strategies: using a mask that globally indicates missing values, or\\nchoosing a sentinel value that indicates a missing entry.\\n\\nIn the masking approach, the mask might be an entirely separate Boolean array,\\nor it may involve appropriation of one bit in the data representation to locally\\nindicate the null status of a value.\\n\\nIn the sentinel approach, the sentinel value could be some data-specific\\nconvention, such as indicating a missing integer value with -9999 or some rare\\nbit pattern, or it could be a more global convention, such as indicating a\\nmissing floating-point value with NaN (Not a Number), a special value which is\\npart of the IEEE floating-point specification.\\n\\nNone of these approaches is without trade-offs: use of a separate mask array\\nrequires allocation of an additional Boolean array, which adds overhead in both\\nstorage and computation. A sentinel value reduces the range of valid values that\\ncan be represented, and may require extra (often non-optimized) logic in CPU and\\nGPU arithmetic. Common special values like NaN are not available for all data\\ntypes.\\n\\nAs in most cases where no universally optimal choice exists, different languages\\nand systems use different conventions. For example, the R language uses reserved\\nbit patterns within each data type as sentinel values indicating missing data,\\nwhile the SciDB system uses an extra byte attached to every cell which indicates\\na NA state.\"]]], \"418\" [:div nil [:div [:p/markdown \"# Handling Missing Data\"]]], \"550\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :mid)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"410\" [:div nil [:div [:p/markdown \"Sometimes rather than dropping NA values, you'd rather replace them with a\\nvalid value. This value might be a single number like zero, or it might be some\\nsort of imputation or interpolation from the good values. You could do this\\nin-place using the isnull() method as a mask, but because it is such a common\\noperation tech.ml.dataset provides the `replace-missing` function, which returns\\na copy of the array with the null values replaced.\"]]], \"216\" [:div nil [:div [:p/markdown \"# Handling Missing Data\"]]], \"416\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"519\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"217\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"505\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :value 0)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  0 |\\n|  2 |\\n|  0 |\\n|  3 |\\n\"]]]], \"434\" [:div [:p/code {:code \"(ds/missing data)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"{2}\\r\\n\"}]]], \"473\" [:div [:p/code {:code \"(dfn/sum (vals1 :A))\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"8.0\\r\\n\"}]]], \"565\" [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth]\\n         '[tech.v3.dataset :as ds]\\n         '[tech.v3.datatype.functional :as dfn])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"344\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-rows DS1 (fn [row]\\n                            (> 3 (count (filter some? (vals row))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"403\" [:div [:p/code {:code \"(def DS1 (tablecloth/add-or-replace-column DS :D nil))\", :bg-class \"bg-light\"}] [:div nil]], \"398\" [:div [:p/code {:code \"(def DS (tablecloth/dataset {:A [1 2 nil]\\n                             :B [nil 3 4]\\n                             :C [2 5 6]}))\", :bg-class \"bg-light\"}] [:div nil]], \"535\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :lerp)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"602\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :up)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"593\" [:div nil [:div [:p/markdown \"Sometimes rather than dropping NA values, you'd rather replace them with a\\nvalid value. This value might be a single number like zero, or it might be some\\nsort of imputation or interpolation from the good values. You could do this\\nin-place using the isnull() method as a mask, but because it is such a common\\noperation tech.ml.dataset provides the `replace-missing` function, which returns\\na copy of the array with the null values replaced.\"]]], \"324\" [:div nil [:div [:p/markdown \"For a DataFrame, there are more options. Consider the following DataFrame:\"]]], \"551\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :mid)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"260\" [:div [:p/code {:code \"^kind/dataset\\nvals1\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [4 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|    |\\n|  3 |\\n|  4 |\\n\"]]]], \"390\" [:div nil [:div [:p/markdown \"It is different from Pandas dataframe that missing value is just ignored in\\ntech.ml.dataset:\"]]], \"377\" [:div nil [:div [:p/markdown \"Here the first and last row have been dropped, because they contain only two\\nnon-null values.\"]]], \"509\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"353\" [:div [:p/code {:code \"(ds/brief vals1)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"({:min 1.0,\\r\\n  :n-missing 1,\\r\\n  :col-name :A,\\r\\n  :mean 2.6666666666666665,\\r\\n  :datatype :int64,\\r\\n  :skew -0.9352195295828236,\\r\\n  :standard-deviation 1.5275252316519465,\\r\\n  :quartile-3 4.0,\\r\\n  :n-valid 3,\\r\\n  :quartile-1 1.0,\\r\\n  :median 3.0,\\r\\n  :max 4.0})\\r\\n\"}]]], \"526\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :up)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"301\" [:div nil [:div nil]], \"317\" [:div nil [:div [:p/markdown \"### Detecting null values\"]]], \"409\" [:div nil [:div [:p/markdown \"### Filling null values\"]]], \"444\" [:div [:p/code {:code \"(def DS1 (tablecloth/add-or-replace-column DS :D nil))\", :bg-class \"bg-light\"}] [:div nil]], \"406\" [:div nil [:div [:p/markdown \"For finer-grained control, the thresh parameter lets you specify a minimum\\nnumber of non-null values for the row/column to be kept:\"]]], \"254\" [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth]\\n         '[tech.v3.dataset :as ds])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"595\" [:div [:p/code {:code \"(def DS2 (tablecloth/dataset {:A [1 nil 2 nil 3]}))\", :bg-class \"bg-light\"}] [:div nil]], \"555\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"563\" [:div nil [:div [:p/markdown \"### None: Clojure missing data\"]]], \"211\" [:div nil [:div nil]], \"340\" [:div nil [:div [:p/markdown \"### Filling null values\"]]], \"533\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :lerp)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"280\" [:div [:p/code {:code \"(ds/missing data)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"366\" [:div nil [:div [:p/markdown \"But this drops some good data as well; you might rather be interested in\\ndropping rows or columns with all NA values, or a majority of NA values. This\\ncan be specified through the how or thresh parameters, which allow fine control\\nof the number of nulls to allow through.\\n\\nThe default is how='any', such that any row or column (depending on the axis\\nkeyword) containing a null value will be dropped. You can also specify\\nhow='all', which will only drop rows/columns that are all null values:\"]]], \"286\" [:div [:p/code {:code \"^kind/dataset\\nDS\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"342\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"262\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"252\" [:div nil [:div [:p/markdown \"There are a number of schemes that have been developed to indicate the\\npresence of missing data in a table or DataFrame. Generally, they revolve around\\none of two strategies: using a mask that globally indicates missing values, or\\nchoosing a sentinel value that indicates a missing entry.\\n\\nIn the masking approach, the mask might be an entirely separate Boolean array,\\nor it may involve appropriation of one bit in the data representation to locally\\nindicate the null status of a value.\\n\\nIn the sentinel approach, the sentinel value could be some data-specific\\nconvention, such as indicating a missing integer value with -9999 or some rare\\nbit pattern, or it could be a more global convention, such as indicating a\\nmissing floating-point value with NaN (Not a Number), a special value which is\\npart of the IEEE floating-point specification.\\n\\nNone of these approaches is without trade-offs: use of a separate mask array\\nrequires allocation of an additional Boolean array, which adds overhead in both\\nstorage and computation. A sentinel value reduces the range of valid values that\\ncan be represented, and may require extra (often non-optimized) logic in CPU and\\nGPU arithmetic. Common special values like NaN are not available for all data\\ntypes.\\n\\nAs in most cases where no universally optimal choice exists, different languages\\nand systems use different conventions. For example, the R language uses reserved\\nbit patterns within each data type as sentinel values indicating missing data,\\nwhile the SciDB system uses an extra byte attached to every cell which indicates\\na NA state.\"]]], \"500\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :value 0)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  0 |\\n|  2 |\\n|  0 |\\n|  3 |\\n\"]]]], \"460\" [:div nil [:div nil]], \"319\" [:div [:p/code {:code \"(def data (tablecloth/dataset {:A [1 \\\"hello\\\" nil]}))\", :bg-class \"bg-light\"}] [:div nil]], \"256\" [:div [:p/code {:code \"(ds/brief vals1)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"({:min 1.0,\\r\\n  :n-missing 1,\\r\\n  :col-name :A,\\r\\n  :mean 2.6666666666666665,\\r\\n  :datatype :int64,\\r\\n  :skew -0.9352195295828236,\\r\\n  :standard-deviation 1.5275252316519465,\\r\\n  :quartile-3 4.0,\\r\\n  :n-valid 3,\\r\\n  :quartile-1 1.0,\\r\\n  :median 3.0,\\r\\n  :max 4.0})\\r\\n\"}]]], \"269\" [:div nil [:div [:p/markdown \"The first sentinel value used by Pandas is None, a Python singleton object\\nthat is often used for missing data in Python code. Because it is a Python\\nobject, None cannot be used in any arbitrary NumPy/Pandas array, but only in\\narrays with data type 'object' (i.e., arrays of Python objects):\"]]], \"298\" [:div [:p/code {:code \"(tablecloth/drop-rows DS1 (fn [row]\\n                            (> 3 (count (filter some? (vals row))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"453\" [:div nil [:div [:p/markdown \"Consider the following dataset:\"]]], \"322\" [:div nil [:div [:p/markdown \"In addition to the masking used before, there are the convenience methods,\\n`drop-missing` (which removes NA values) and `replace-missing` (which fills in\\nNA values). For a Series, the result is straightforward:\"]]], \"367\" [:div [:p/code {:code \"(def DS1 (tablecloth/add-or-replace-column DS :D nil))\", :bg-class \"bg-light\"}] [:div nil]], \"529\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"348\" [:div nil [:div [:p/markdown \"## Trade-Offs in Missing Data Conventions\"]]], \"457\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"424\" [:div nil [:div [:p/markdown \"The first sentinel value used by Pandas is None, a Python singleton object\\nthat is often used for missing data in Python code. Because it is a Python\\nobject, None cannot be used in any arbitrary NumPy/Pandas array, but only in\\narrays with data type 'object' (i.e., arrays of Python objects):\"]]], \"220\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"339\" [:div nil [:div [:p/markdown \"Here the first and last row have been dropped, because they contain only two\\nnon-null values.\"]]], \"427\" [:div [:p/code {:code \"(ds/brief vals1)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"({:min 1.0,\\r\\n  :n-missing 1,\\r\\n  :col-name :A,\\r\\n  :mean 2.6666666666666665,\\r\\n  :datatype :int64,\\r\\n  :skew -0.9352195295828236,\\r\\n  :standard-deviation 1.5275252316519465,\\r\\n  :quartile-3 4.0,\\r\\n  :n-valid 3,\\r\\n  :quartile-1 1.0,\\r\\n  :median 3.0,\\r\\n  :max 4.0})\\r\\n\"}]]], \"288\" [:div [:p/code {:code \"(tablecloth/drop-missing DS)\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"495\" [:div nil [:div [:p/markdown \"We can fill NA entries with a single value, such as zero:\"]]], \"412\" [:div [:p/code {:code \"(def DS2 (tablecloth/dataset {:A [1 nil 2 nil 3]}))\", :bg-class \"bg-light\"}] [:div nil]], \"491\" [:div nil [:div [:p/markdown \"Sometimes rather than dropping NA values, you'd rather replace them with a\\nvalid value. This value might be a single number like zero, or it might be some\\nsort of imputation or interpolation from the good values. You could do this\\nin-place using the isnull() method as a mask, but because it is such a common\\noperation tech.ml.dataset provides the `replace-missing` function, which returns\\na copy of the array with the null values replaced.\"]]], \"436\" [:div nil [:div [:p/markdown \"In addition to the masking used before, there are the convenience methods,\\n`drop-missing` (which removes NA values) and `replace-missing` (which fills in\\nNA values). For a Series, the result is straightforward:\"]]], \"233\" [:div nil [:div [:p/markdown \"The difference between data found in many tutorials and data in the real world\\nis that real-world data is rarely clean and homogeneous. In particular, many\\ninteresting datasets will have some amount of data missing. To make matters even\\nmore complicated, different data sources may indicate missing data in different\\nways.\\n\\nIn this section, we will discuss some general considerations for missing data,\\ndiscuss how Pandas chooses to represent it, and demonstrate some built-in Pandas\\ntools for handling missing data in Python. Here and throughout the book, we'll\\nrefer to missing data in general as null, NaN, or NA values.\"]]], \"517\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"264\" [:div nil [:div nil]], \"446\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= (ds/row-count DS1) (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"373\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"255\" [:div [:p/code {:code \"(def vals1 (tablecloth/dataset {:A [1 nil 3 4]}))\", :bg-class \"bg-light\"}] [:div nil]], \"539\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"566\" [:div [:p/code {:code \"(def vals1 (tablecloth/dataset {:A [1 nil 3 4]}))\", :bg-class \"bg-light\"}] [:div nil]], \"236\" [:div nil [:div [:p/markdown \"## Missing Data in Dataset\"]]], \"310\" [:div [:p/code {:code \"(require '[tablecloth.api :as tablecloth]\\n         '[tech.v3.dataset :as ds]\\n         '[tech.v3.datatype.functional :as dfn])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"327\" [:div nil [:div [:p/markdown \"We cannot drop single values from a DataFrame; we can only drop full rows or\\nfull columns. Depending on the application, you might want one or the other, so\\ndropna() gives a number of options for a DataFrame.\\n\\nBy default, dropna() will drop all rows in which any null value is present:\"]]], \"514\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :down)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"506\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"589\" [:div nil [:div [:p/markdown \"For finer-grained control, the thresh parameter lets you specify a minimum\\nnumber of non-null values for the row/column to be kept:\"]]], \"478\" [:div [:p/code {:code \"(ds/missing data)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"{2}\\r\\n\"}]]], \"333\" [:div [:p/code {:code \"(def DS1 (tablecloth/add-or-replace-column DS :D nil))\", :bg-class \"bg-light\"}] [:div nil]], \"515\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :down)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"375\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"516\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :down)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"245\" [:div [:p/code {:code \"(def vals1 (tablecloth/dataset {:A [1 nil 3 4]}))\", :bg-class \"bg-light\"}] [:div nil]], \"407\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-columns DS1 (tablecloth/column-names\\n                              (cf/column-filter DS1 #(= 3  (count (vec (ds-col/missing %)))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"248\" [:div nil [:div nil]], \"285\" [:div [:p/code {:code \"(def DS (tablecloth/dataset {:A [1 2 nil]\\n                             :B [nil 3 4]\\n                             :C [2 5 6]}))\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"494\" [:div [:p/code {:code \"^kind/dataset\\nDS2\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|    |\\n|  2 |\\n|    |\\n|  3 |\\n\"]]]], \"378\" [:div nil [:div [:p/markdown \"### Filling null values\"]]], \"291\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"513\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :down)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n\"]]]], \"330\" [:div [:p/code {:code \"(tablecloth/drop-missing DS :A)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 3]:\\n\\r\\n| :A | :B | :C |\\r\\n|----|----|----|\\r\\n|  1 |    |  2 |\\r\\n|  2 |  3 |  5 |\\r\\n\\r\\n\"}]]], \"230\" [:div [:p/code {:code \"^kind/dataset\\nvals1\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"242\" [:div [:p/code {:code \"^kind/dataset\\nvals1\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [4 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|    |\\n|  3 |\\n|  4 |\\n\"]]]], \"214\" [:div nil [:div [:p/markdown \"# Handling Missing Data\"]]], \"465\" [:div nil [:div [:p/markdown \"## Missing Data in Dataset\"]]], \"361\" [:div [:p/code {:code \"(def DS (tablecloth/dataset {:A [1 2 nil]\\n                             :B [nil 3 4]\\n                             :C [2 5 6]}))\", :bg-class \"bg-light\"}] [:div nil]], \"349\" [:div nil [:div [:p/markdown \"There are a number of schemes that have been developed to indicate the\\npresence of missing data in a table or DataFrame. Generally, they revolve around\\none of two strategies: using a mask that globally indicates missing values, or\\nchoosing a sentinel value that indicates a missing entry.\\n\\nIn the masking approach, the mask might be an entirely separate Boolean array,\\nor it may involve appropriation of one bit in the data representation to locally\\nindicate the null status of a value.\\n\\nIn the sentinel approach, the sentinel value could be some data-specific\\nconvention, such as indicating a missing integer value with -9999 or some rare\\nbit pattern, or it could be a more global convention, such as indicating a\\nmissing floating-point value with NaN (Not a Number), a special value which is\\npart of the IEEE floating-point specification.\\n\\nNone of these approaches is without trade-offs: use of a separate mask array\\nrequires allocation of an additional Boolean array, which adds overhead in both\\nstorage and computation. A sentinel value reduces the range of valid values that\\ncan be represented, and may require extra (often non-optimized) logic in CPU and\\nGPU arithmetic. Common special values like NaN are not available for all data\\ntypes.\\n\\nAs in most cases where no universally optimal choice exists, different languages\\nand systems use different conventions. For example, the R language uses reserved\\nbit patterns within each data type as sentinel values indicating missing data,\\nwhile the SciDB system uses an extra byte attached to every cell which indicates\\na NA state.\"]]], \"323\" [:div [:p/code {:code \"(tablecloth/drop-missing data)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"_unnamed [2 1]:\\n\\r\\n|    :A |\\r\\n|-------|\\r\\n|     1 |\\r\\n| hello |\\r\\n\\r\\n\"}]]], \"447\" [:div nil [:div [:p/markdown \"For finer-grained control, the thresh parameter lets you specify a minimum\\nnumber of non-null values for the row/column to be kept:\"]]], \"215\" [:div nil [:div [:p/markdown \"# Handling Missing Data\"]]], \"397\" [:div nil [:div [:p/markdown \"For a DataFrame, there are more options. Consider the following DataFrame:\"]]], \"393\" [:div [:p/code {:code \"(ds/missing data)\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"{2}\\r\\n\"}]]], \"464\" [:div nil [:div [:p/markdown \"There are a number of schemes that have been developed to indicate the\\npresence of missing data in a table or DataFrame. Generally, they revolve around\\none of two strategies: using a mask that globally indicates missing values, or\\nchoosing a sentinel value that indicates a missing entry.\\n\\nIn the masking approach, the mask might be an entirely separate Boolean array,\\nor it may involve appropriation of one bit in the data representation to locally\\nindicate the null status of a value.\\n\\nIn the sentinel approach, the sentinel value could be some data-specific\\nconvention, such as indicating a missing integer value with -9999 or some rare\\nbit pattern, or it could be a more global convention, such as indicating a\\nmissing floating-point value with NaN (Not a Number), a special value which is\\npart of the IEEE floating-point specification.\\n\\nNone of these approaches is without trade-offs: use of a separate mask array\\nrequires allocation of an additional Boolean array, which adds overhead in both\\nstorage and computation. A sentinel value reduces the range of valid values that\\ncan be represented, and may require extra (often non-optimized) logic in CPU and\\nGPU arithmetic. Common special values like NaN are not available for all data\\ntypes.\\n\\nAs in most cases where no universally optimal choice exists, different languages\\nand systems use different conventions. For example, the R language uses reserved\\nbit patterns within each data type as sentinel values indicating missing data,\\nwhile the SciDB system uses an extra byte attached to every cell which indicates\\na NA state.\"]]], \"468\" [:div nil [:div [:p/markdown \"The first sentinel value used by Pandas is None, a Python singleton object\\nthat is often used for missing data in Python code. Because it is a Python\\nobject, None cannot be used in any arbitrary NumPy/Pandas array, but only in\\narrays with data type 'object' (i.e., arrays of Python objects):\"]]], \"417\" [:div nil [:div nil]], \"451\" [:div nil [:div [:p/markdown \"### Filling null values\"]]], \"351\" [:div nil [:div [:p/markdown \"### None: Clojure missing data\"]]], \"501\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :value 0)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  0 |\\n|  2 |\\n|  0 |\\n|  3 |\\n\"]]]], \"487\" [:div [:p/code {:code \"(require '[tech.v3.dataset.column-filters :as cf]\\n         '[tech.v3.dataset.column :as ds-col])\", :bg-class \"bg-light\"}] [:div [:p/code {:code \"nil\\r\\n\"}]]], \"523\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/replace-missing DS2 [:A] :up)\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [5 1]:\\n\\n| :A |\\n|----|\\n|  1 |\\n|  2 |\\n|  2 |\\n|  3 |\\n|  3 |\\n\"]]]], \"292\" [:div [:p/code {:code \"(require '[tech.v3.dataset.column-filters :as cf]\\n         '[tech.v3.dataset.column :as ds-col])\", :bg-class \"bg-light\"}] [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"435\" [:div nil [:div [:p/markdown \"### Dropping null values\"]]], \"243\" [:div nil [:div [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(not evaluated yet)\"]]]], \"309\" [:div nil [:div [:p/markdown \"The first sentinel value used by Pandas is None, a Python singleton object\\nthat is often used for missing data in Python code. Because it is a Python\\nobject, None cannot be used in any arbitrary NumPy/Pandas array, but only in\\narrays with data type 'object' (i.e., arrays of Python objects):\"]]], \"579\" [:div [:p/code {:code \"^kind/dataset\\nDS\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [3 3]:\\n\\n| :A | :B | :C |\\n|----|----|----|\\n|  1 |    |  2 |\\n|  2 |  3 |  5 |\\n|    |  4 |  6 |\\n\"]]]], \"372\" [:div nil [:div [:p/markdown \"Here the first and last row have been dropped, because they contain only two\\nnon-null values.\"]]], \"371\" [:div [:p/code {:code \"^kind/dataset\\n(tablecloth/drop-rows DS1 (fn [row]\\n                            (> 3 (count (filter some? (vals row))))))\", :bg-class \"bg-light\"}] [:div [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [1 4]:\\n\\n| :A | :B | :C | :D |\\n|----|----|----|----|\\n|  2 |  3 |  5 |    |\\n\"]]]], \"574\" [:div [:p/code {:code \"(def data (tablecloth/dataset {:A [1 \\\"hello\\\" nil]}))\", :bg-class \"bg-light\"}] [:div nil]], \"314\" [:div nil [:div [:p/markdown \"It is different from Pandas dataframe that missing value is just ignored in\\ntech.ml.dataset:\"]]]}}");
     document.getElementById("loading").remove();
    </script>
</html>
